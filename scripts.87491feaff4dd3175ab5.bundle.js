if(void 0===GreenTurtle)var GreenTurtle=function(){function t(){}function e(t){this.target=t||{graph:{subjects:{},prefixes:{},terms:{}}},this.theOne="_:"+(new Date).getTime(),this.vocabulary=this.language=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}function r(){var t=this;this.curieParser={trim:function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},parse:function(e,r){e=this.trim(e),"["==e.charAt(0)&&"]"==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1));var n=e.indexOf(":");if(0<=n){var a=e.substring(0,n);if(""==a)return(a=t.prefixes[""])?a+e.substring(n+1):null;if("_"==a)return"_:"+e.substring(n+1);if(s.NCNAME.test(a)&&(a=t.prefixes[a]))return a+e.substring(n+1)}return r?t.baseURI.resolve(e):e}},this.base=null,this.toString=function(t){var e,t=t?"@base <"+t+"> .\n":"";for(e in this.subjects)t+=this.subjects[e].toString(),t+="\n";return t},this.clear=function(){this.subjects={},this.prefixes={},this.terms={}},this.clear()}function n(t,e){this.graph=t,this.id=this.subject=e,this.predicates={},this.origins=[],this.types=[]}function a(t){this.predicate=this.id=t,this.objects=[]}function i(t){e.call(this,t)}function o(t){this.query=function(e,r){if(!e)return t.getProjections(r);var n,a=[];for(n in t._data_.graph.subjects){var i,o=t._data_.graph.subjects[n];for(i in e){var u=t._data_.graph.curieParser.parse(i,!0),u=o.predicates[u];if(!u){o=null;break}for(var c=t._data_.graph.curieParser.parse(e[i],!1),l=null,h=0;!l&&h<u.objects.length;h++)u.objects[h].value==c&&(l=u.objects[h]);if(!l){o=null;break}}o&&a.push(s.toProjection(t,o,r))}return a}}function u(t,e){this._data_={owner:t,subject:e,properties:{}}}function s(t){this._data_={tripleCount:0,graph:new r},this._data_.graph.baseURI=this.parseURI(t),this._data_.baseURI=this._data_.graph.baseURI,Object.defineProperty(this,"rdfa",{value:new o(this),writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"graph",{value:this._data_.graph,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"implementation",{value:GreenTurtle.implementation,writable:!1,configurable:!1,enumerable:!0})}function c(){this.reset(),this.onError=function(t,e){console.log(t+": "+e)}}var l={};t.SCHEME=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/,t.prototype.parseURI=function(e){var r=t.SCHEME.exec(e);if(!r)throw"Bad URI value, no scheme: "+e;return e={spec:e},e.scheme=r[0].substring(0,r[0].length-1),e.schemeSpecificPart=e.spec.substring(r[0].length),"/"==e.schemeSpecificPart.charAt(0)&&"/"==e.schemeSpecificPart.charAt(1)?this.parseGeneric(e):e.isGeneric=!1,e.normalize=function(){if(this.isGeneric&&0!=this.segments.length){if(1<this.path.length&&"/."==this.path.substring(this.path.length-2))this.path=this.path.substring(0,this.path.length-1),this.segments.splice(this.segments.length-1,1);else{var t=this.path.charAt(this.path.length-1);"/"!=t&&(t="");for(var e=0;e<this.segments.length;e++)0<e&&".."==this.segments[e]&&(this.segments.splice(e-1,2),e-=2),"."==this.segments[e]&&(this.segments.splice(e,1),e--);this.path=0==this.segments.length?"/":"/"+this.segments.join("/")+t}this.schemeSpecificPart="//"+this.authority+this.path,void 0!==this.query&&(this.schemeSpecificPart+="?"+this.query),void 0!==this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),this.spec=this.scheme+":"+this.schemeSpecificPart}},e.resolve=function(e){if(!e)return this.spec;if("#"==e.charAt(0)){var r=this.spec.lastIndexOf("#");return 0>r?this.spec+e:this.spec.substring(0,r)+e}if(!this.isGeneric)throw"Cannot resolve uri against non-generic URI: "+this.spec;return e.indexOf(":"),"/"==e.charAt(0)?this.scheme+"://"+this.authority+e:"."==e.charAt(0)&&"/"==e.charAt(1)?"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+e.substring(2):(r=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,r)+e.substring(1)):t.SCHEME.test(e)?e:"?"==e.charAt(0)||"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+e:(r=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,r+1)+e)},e.relativeTo=function(t){if(t.scheme!=this.scheme)return this.spec;if(!this.isGeneric)throw"A non generic URI cannot be made relative: "+this.spec;if(!t.isGeneric)throw"Cannot make a relative URI against a non-generic URI: "+t.spec;if(t.authority!=this.authority)return this.spec;for(var e=0;e<this.segments.length&&e<t.segments.length;e++)if(this.segments[e]!=t.segments[e]){for(var r="",n=e;n<t.segments.length;n++)r+="../";for(n=e;n<this.segments.length;n++)r+=this.segments[n],n+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}if(this.segments.length==t.segments.length)return this.hash?this.hash:this.query?this.query:"";if(e<this.segments.length){for(r="",n=e;n<this.segments.length;n++)r+=this.segments[n],n+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}throw"Cannot calculate a relative URI for "+this.spec+" against "+t.spec},e},t.prototype.parseGeneric=function(t){if("/"!=t.schemeSpecificPart.charAt(0)||"/"!=t.schemeSpecificPart.charAt(1))throw"Generic URI values should start with '//':"+t.spec;var e=t.schemeSpecificPart.substring(2),r=e.indexOf("/");if(t.authority=0>r?e:e.substring(0,r),t.path=0>r?"":e.substring(r),e=t.path.indexOf("#"),0<=e&&(t.fragment=t.path.substring(e+1),t.path=t.path.substring(0,e)),e=t.path.indexOf("?"),0<=e&&(t.query=t.path.substring(e+1),t.path=t.path.substring(0,e)),"/"==t.path||""==t.path)t.segments=[];else for(t.segments=t.path.split(/\//),0<t.segments.length&&""==t.segments[0]&&1<t.path.length&&"/"!=t.path.charAt(1)&&t.segments.shift(),0<t.segments.length&&0<t.path.length&&"/"==t.path.charAt(t.path.length-1)&&""==t.segments[t.segments.length-1]&&1<t.path.length&&"/"!=t.path.charAt(t.path.length-2)&&t.segments.pop(),e=0;e<t.segments.length;e++)for(var r=t.segments[e].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/),n=0;n<r.length;n++)if(0<r[n].length)throw"Unecaped character "+r[n].charAt(0)+" ("+r[n].charCodeAt(0)+") in URI "+t.spec;t.isGeneric=!0},e.prototype=new t,e.prototype.constructor=e,e.prototype.newBlankNode=function(){return"_:"+ ++this.blankCounter},e.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",e.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",e.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",e.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",e.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",e.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",e.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",e.NCNAME=RegExp("^"+e.nameStartChar+e.nameChar+"*$"),e.trim=function(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},e.prototype.tokenize=function(t){return e.trim(t).split(/\s+/)},e.prototype.parseSafeCURIEOrCURIEOrURI=function(t,r,n){return t=e.trim(t),"["==t.charAt(0)&&"]"==t.charAt(t.length-1)?(t=t.substring(1,t.length-1),t=t.trim(t),0==t.length?null:"_:"==t?this.theOne:this.parseCURIE(t,r,n)):this.parseCURIEOrURI(t,r,n)},e.prototype.parseCURIE=function(t,r){var n=t.indexOf(":");if(0<=n){var a=t.substring(0,n);if(""==a)return(a=r[""])?a+t.substring(n+1):null;if("_"==a)return"_:"+t.substring(n+1);if(e.NCNAME.test(a)&&(a=r[a]))return a+t.substring(n+1)}return null},e.prototype.parseCURIEOrURI=function(t,e,r){return(e=this.parseCURIE(t,e,r))?e:this.resolveAndNormalize(r,t)},e.prototype.parsePredicate=function(t,e,r,n,a,i){return""==t?null:(t=this.parseTermOrCURIEOrAbsURI(t,e,i?null:r,n,a))&&0==t.indexOf("_:")?null:t},e.prototype.parseTermOrCURIEOrURI=function(t,r,n,a,i){return t=e.trim(t),(a=this.parseCURIE(t,a,i))||(a=n[t])?a:(a=t.toLowerCase(),(a=n[a])?a:r&&!this.absURIRE.exec(t)?r+t:this.resolveAndNormalize(i,t))},e.prototype.parseTermOrCURIEOrAbsURI=function(t,r,n,a,i){if(t=e.trim(t),a=this.parseCURIE(t,a,i))return a;if(n){if(r&&!this.absURIRE.exec(t))return r+t;if(r=n[t])return r;if(r=t.toLowerCase(),r=n[r])return r}return this.absURIRE.exec(t)?this.resolveAndNormalize(i,t):null},e.prototype.resolveAndNormalize=function(t,e){var r=t.resolve(e),r=this.parseURI(r);return r.normalize(),r.spec},e.prototype.parsePrefixMappings=function(t,e){for(var r=this.tokenize(t),n=null,a=0;a<r.length;a++)":"==r[a][r[a].length-1]?n=r[a].substring(0,r[a].length-1):n&&(e[n]=this.target.baseURI?this.target.baseURI.resolve(r[a]):r[a],n=null)},e.prototype.copyMappings=function(t){var e,r={};for(e in t)r[e]=t[e];return r},e.prototype.ancestorPath=function(t){for(var e="";t&&t.nodeType!=Node.DOCUMENT_NODE;)e="/"+t.localName+e,t=t.parentNode;return e},e.prototype.setContext=function(t){"html"==t.localName&&"XHTML+RDFa 1.1"==t.getAttribute("version")?this.setXHTMLContext():"html"==t.localName||"http://www.w3.org/1999/xhtml"==t.namespaceURI?document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"==document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"==document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"==document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()},e.prototype.setInitialContext=function(){this.vocabulary=null,this.target.graph.prefixes={},this.target.graph.terms={},this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.target.graph.prefixes[""]="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.grddl="http://www.w3.org/2003/g/data-view#",this.target.graph.prefixes.ma="http://www.w3.org/ns/ma-ont#",this.target.graph.prefixes.owl="http://www.w3.org/2002/07/owl#",this.target.graph.prefixes.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",this.target.graph.prefixes.rdfa="http://www.w3.org/ns/rdfa#",this.target.graph.prefixes.rdfs="http://www.w3.org/2000/01/rdf-schema#",this.target.graph.prefixes.rif="http://www.w3.org/2007/rif#",this.target.graph.prefixes.skos="http://www.w3.org/2004/02/skos/core#",this.target.graph.prefixes.skosxl="http://www.w3.org/2008/05/skos-xl#",this.target.graph.prefixes.wdr="http://www.w3.org/2007/05/powder#",this.target.graph.prefixes.void="http://rdfs.org/ns/void#",this.target.graph.prefixes.wdrs="http://www.w3.org/2007/05/powder-s#",this.target.graph.prefixes.xhv="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.xml="http://www.w3.org/XML/1998/namespace",this.target.graph.prefixes.xsd="http://www.w3.org/2001/XMLSchema#",this.target.graph.prefixes.sd="http://www.w3.org/ns/sparql-service-description#",this.target.graph.prefixes.org="http://www.w3.org/ns/org#",this.target.graph.prefixes.gldp="http://www.w3.org/ns/people#",this.target.graph.prefixes.cnt="http://www.w3.org/2008/content#",this.target.graph.prefixes.dcat="http://www.w3.org/ns/dcat#",this.target.graph.prefixes.earl="http://www.w3.org/ns/earl#",this.target.graph.prefixes.ht="http://www.w3.org/2006/http#",this.target.graph.prefixes.ptr="http://www.w3.org/2009/pointers#",this.target.graph.prefixes.cc="http://creativecommons.org/ns#",this.target.graph.prefixes.ctag="http://commontag.org/ns#",this.target.graph.prefixes.dc="http://purl.org/dc/terms/",this.target.graph.prefixes.dcterms="http://purl.org/dc/terms/",this.target.graph.prefixes.foaf="http://xmlns.com/foaf/0.1/",this.target.graph.prefixes.gr="http://purl.org/goodrelations/v1#",this.target.graph.prefixes.ical="http://www.w3.org/2002/12/cal/icaltzd#",this.target.graph.prefixes.og="http://ogp.me/ns#",this.target.graph.prefixes.rev="http://purl.org/stuff/rev#",this.target.graph.prefixes.sioc="http://rdfs.org/sioc/ns#",this.target.graph.prefixes.v="http://rdf.data-vocabulary.org/#",this.target.graph.prefixes.vcard="http://www.w3.org/2006/vcard/ns#",this.target.graph.prefixes.schema="http://schema.org/",this.target.graph.terms.describedby="http://www.w3.org/2007/05/powder-s#describedby",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role"},e.prototype.setXMLContext=function(){this.setInitialContext(),this.inHTMLMode=this.inXHTMLMode=!1},e.prototype.setHTMLContext=function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0},e.prototype.setXHTMLContext=function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"},e.prototype.init=function(){},e.prototype.newSubjectOrigin=function(){},e.prototype.addTriple=function(){},e.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}],e.deriveDateTimeType=function(t){for(var r=0;r<e.dateTimeTypes.length;r++){var n=e.dateTimeTypes[r].pattern.exec(t);if(n&&n[0].length==t.length)return e.dateTimeTypes[r].type}return null},e.prototype.process=function(t,r){t.nodeType==Node.DOCUMENT_NODE?(t=t.documentElement,this.setContext(t)):t.parentNode.nodeType==Node.DOCUMENT_NODE&&this.setContext(t);var n=[],a=function(t){var e=t.indexOf("#");return 0<=e&&(t=t.substring(0,e)),r&&r.baseURIMap&&(t=r.baseURIMap(t)),t};for(n.push({current:t,context:this.push(null,a(t.baseURI))});0<n.length;){var i=n.shift();if(i.parent){if(!i.context.parent||i.context.parent.listMapping!=i.listMapping)for(var o in i.listMapping){var u=i.listMapping[o];if(0==u.length)this.addTriple(i.parent,i.subject,o,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});else{for(var s=[],c=0;c<u.length;c++)s.push(this.newBlankNode());for(c=0;c<s.length;c++)this.addTriple(i.parent,s[c],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",u[c]),this.addTriple(i.parent,s[c],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:c+1<s.length?s[c+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(i.parent,i.subject,o,{type:e.objectURI,value:s[0]})}}}else{var s=i.current,i=i.context,l=!1,h=null,f=null,p=null,d=i.prefixes,u=!1,g=[],m=i.listMapping,v=!i.parent,y=i.language,b=i.vocabulary,w=this.parseURI(a(s.baseURI));for(s.item=null,(c=s.getAttributeNode("vocab"))&&(c=e.trim(c.value),0<c.length?(b=c,this.addTriple(s,w.spec,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:b})):b=this.vocabulary),c=0;c<s.attributes.length;c++){var x=s.attributes[c];if("x"==x.nodeName.charAt(0)&&0==x.nodeName.indexOf("xmlns:")){u||(d=this.copyMappings(d),u=!0);var _=x.nodeName.substring(6),x=e.trim(x.value);d[_]=this.target.baseURI?this.target.baseURI.resolve(x):x}}for((c=s.getAttributeNode("prefix"))&&(u||(d=this.copyMappings(d),u=!0),this.parsePrefixMappings(c.value,d)),u=null,c=0;!u&&c<this.langAttributes.length;c++)u=s.getAttributeNodeNS(this.langAttributes[c].namespaceURI,this.langAttributes[c].localName);u&&(c=e.trim(u.value),y=0<c.length?c:null);var _=s.getAttributeNode("rel"),x=s.getAttributeNode("rev"),M=s.getAttributeNode("typeof"),R=s.getAttributeNode("property"),j=s.getAttributeNode("datatype"),I=this.inHTMLMode?s.getAttributeNode("datetime"):null,E=s.getAttributeNode("content"),N=s.getAttributeNode("about"),F=s.getAttributeNode("src"),A=s.getAttributeNode("resource"),U=s.getAttributeNode("href"),C=s.getAttributeNode("inlist"),T=[];if(_)for(var S=this.tokenize(_.value),c=0;c<S.length;c++)(o=this.parsePredicate(S[c],b,i.terms,d,w,this.inHTMLMode&&null!=R))&&T.push(o);var k=[];if(x)for(S=this.tokenize(x.value),c=0;c<S.length;c++)(o=this.parsePredicate(S[c],b,i.terms,d,w,this.inHTMLMode&&null!=R))&&k.push(o);if(!this.inHTMLMode||null==_&&null==x||null==R||(0==T.length&&(_=null),0==k.length&&(x=null)),_||x?(N&&(h=this.parseSafeCURIEOrCURIEOrURI(N.value,d,w)),M&&(p=h),h||(s.parentNode.nodeType==Node.DOCUMENT_NODE?h=a(s.baseURI):i.parentObject&&(h=a(s.parentNode.baseURI)==i.parentObject?a(s.baseURI):i.parentObject)),A&&(f=this.parseSafeCURIEOrCURIEOrURI(A.value,d,w)),f||(U?f=this.resolveAndNormalize(w,encodeURI(U.value)):F?f=this.resolveAndNormalize(w,encodeURI(F.value)):!M||N||this.inXHTMLMode&&("head"==s.localName||"body"==s.localName)||(f=this.newBlankNode())),!M||N||!this.inXHTMLMode||"head"!=s.localName&&"body"!=s.localName?M&&!N&&(p=f):p=h):!R||E||j?(N&&(h=this.parseSafeCURIEOrCURIEOrURI(N.value,d,w)),!h&&A&&(h=this.parseSafeCURIEOrCURIEOrURI(A.value,d,w)),!h&&U&&(h=this.resolveAndNormalize(w,encodeURI(U.value))),!h&&F&&(h=this.resolveAndNormalize(w,encodeURI(F.value))),h||(s.parentNode.nodeType==Node.DOCUMENT_NODE?h=a(s.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!=s.localName&&"body"!=s.localName?M?h=this.newBlankNode():i.parentObject&&(h=a(s.parentNode.baseURI)==i.parentObject?a(s.baseURI):i.parentObject,R||(l=!0)):h=a(s.parentNode.baseURI)==i.parentObject?a(s.baseURI):i.parentObject),M&&(p=h)):(N&&(h=this.parseSafeCURIEOrCURIEOrURI(N.value,d,w),M&&(p=h)),h||s.parentNode.nodeType!=Node.DOCUMENT_NODE?!h&&i.parentObject&&(h=a(s.parentNode.baseURI)==i.parentObject?a(s.baseURI):i.parentObject):(h=a(s.baseURI),M&&(p=h)),M&&!p&&(A&&(p=this.parseSafeCURIEOrCURIEOrURI(A.value,d,w)),!p&&U&&(p=this.resolveAndNormalize(w,encodeURI(U.value))),!p&&F&&(p=this.resolveAndNormalize(w,encodeURI(F.value))),p||!this.inXHTMLMode&&!this.inHTMLMode||"head"!=s.localName&&"body"!=s.localName||(p=h),p||(p=this.newBlankNode()),f=p)),h&&(N||A||p)&&(c=h,M&&!N&&!A&&f&&(c=f),this.newSubjectOrigin(s,c)),p)for(S=this.tokenize(M.value),c=0;c<S.length;c++)(u=this.parseTermOrCURIEOrAbsURI(S[c],b,i.terms,d,w))&&this.addTriple(s,p,e.typeURI,{type:e.objectURI,value:u});if(h&&h!=i.parentObject&&(m={},v=!0),f){if(_&&C)for(c=0;c<T.length;c++)u=m[T[c]],u||(u=[],m[T[c]]=u),u.push({type:e.objectURI,value:f});else if(_)for(c=0;c<T.length;c++)this.addTriple(s,h,T[c],{type:e.objectURI,value:f});if(x)for(c=0;c<k.length;c++)this.addTriple(s,f,k[c],{type:e.objectURI,value:h})}else{if(h&&!f&&(_||x)&&(f=this.newBlankNode()),_&&C)for(c=0;c<T.length;c++)u=m[T[c]],u||(u=[],m[o]=u),g.push({predicate:T[c],list:u});else if(_)for(c=0;c<T.length;c++)g.push({predicate:T[c],forward:!0});if(x)for(c=0;c<k.length;c++)g.push({predicate:k[c],forward:!1})}if(R)for(k=T=null,j?(T=""==j.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(j.value,b,i.terms,d,w),k=I&&!E?I.value:T==e.XMLLiteralURI||T==e.HTMLLiteralURI?null:E?E.value:s.textContent):E?(T=e.PlainLiteralURI,k=E.value):I?(k=I.value,(T=e.deriveDateTimeType(k))||(T=e.PlainLiteralURI)):!_&&!x&&(A&&(k=this.parseSafeCURIEOrCURIEOrURI(A.value,d,w)),!k&&U?k=this.resolveAndNormalize(w,encodeURI(U.value)):!k&&F&&(k=this.resolveAndNormalize(w,encodeURI(F.value))),k&&(T=e.objectURI)),T||(M&&!N?(T=e.objectURI,k=p):(k=s.textContent,this.inHTMLMode&&"time"==s.localName&&(T=e.deriveDateTimeType(k)),T||(T=e.PlainLiteralURI))),S=this.tokenize(R.value),c=0;c<S.length;c++)(o=this.parsePredicate(S[c],b,i.terms,d,w))&&(C?(u=m[o],u||(u=[],m[o]=u),u.push(T==e.XMLLiteralURI||T==e.HTMLLiteralURI?{type:T,value:s.childNodes}:{type:T||e.PlainLiteralURI,value:k,language:y})):T==e.XMLLiteralURI||T==e.HTMLLiteralURI?this.addTriple(s,h,o,{type:T,value:s.childNodes}):this.addTriple(s,h,o,{type:T||e.PlainLiteralURI,value:k,language:y}));if(h&&!l)for(c=0;c<i.incomplete.length;c++)i.incomplete[c].list?i.incomplete[c].list.push({type:e.objectURI,value:h}):i.incomplete[c].forward?this.addTriple(s,i.subject,i.incomplete[c].predicate,{type:e.objectURI,value:h}):this.addTriple(s,h,i.incomplete[c].predicate,{type:e.objectURI,value:i.subject});for(p=null,w=h,l?(p=this.push(i,i.subject),p.parentObject=a(s.parentNode.baseURI)==i.parentObject?a(s.baseURI):i.parentObject,p.incomplete=i.incomplete,p.language=y,p.prefixes=d):(p=this.push(i,h),p.parentObject=f||(h||i.subject),p.prefixes=d,p.incomplete=g,f&&(w=f,m={},v=!0),p.listMapping=m,p.language=y),p.vocabulary=b,v&&n.unshift({parent:s,context:i,subject:w,listMapping:m}),s=s.lastChild;s;s=s.previousSibling)s.nodeType==Node.ELEMENT_NODE&&n.unshift({current:s,context:p})}}for(this.inHTMLMode&&this.copyProperties(),c=0;c<this.finishedHandlers.length;c++)this.finishedHandlers[c](t)},e.prototype.copyProperties=function(){},e.prototype.push=function(t,e){return{parent:t,subject:e||(t?t.subject:null),parentObject:null,incomplete:[],listMapping:t?t.listMapping:{},language:t?t.language:this.language,prefixes:t?t.prefixes:this.target.graph.prefixes,terms:t?t.terms:this.target.graph.terms,vocabulary:t?t.vocabulary:this.vocabulary}},n.prototype.toString=function(){var t,e="_:"==this.subject.substring(0,2)?this.subject+"":"<"+this.subject+">",r=!0;for(t in this.predicates)r?r=!1:e+=";\n",e+=" "+this.predicates[t];return e+" ."},n.prototype.toObject=function(){var t,r={subject:this.subject,predicates:{}};for(t in this.predicates){var n=this.predicates[t],a={predicate:t,objects:[]};r.predicates[t]=a;for(var i=0;i<n.objects.length;i++){var o=n.objects[i];if(o.type==e.XMLLiteralURI){for(var u=new XMLSerializer,s="",c=0;c<o.value.length;c++)o.value[c].nodeType==Node.ELEMENT_NODE?s+=u.serializeToString(o.value[c]):o.value[c].nodeType==Node.TEXT_NODE&&(s+=o.value[c].nodeValue);a.objects.push({type:o.type,value:s,language:o.language})}else a.objects.push({type:o.type,value:o.value,language:o.language})}}return r},n.prototype.getValues=function(){for(var t=[],e=0;e<arguments.length;e++){var r=this.graph.curieParser.parse(arguments[e],!0);if(r=this.predicates[r])for(var n=0;n<r.objects.length;n++)t.push(r.objects[n].value)}return t},a.getPrefixMap=function(t){for(var e={};t.attributes;){for(var r=0;r<t.attributes.length;r++)if("http://www.w3.org/2000/xmlns/"==t.attributes[r].namespaceURI){var n=t.attributes[r].localName;"xmlns"==t.attributes[r].localName&&(n=""),n in e||(e[n]=t.attributes[r].nodeValue)}t=t.parentNode}return e},a.prototype.toString=function(){for(var t="<"+this.predicate+"> ",e=0;e<this.objects.length;e++)if(0<e&&(t+=", "),"http://www.w3.org/1999/02/22-rdf-syntax-ns#object"==this.objects[e].type)t="_:"==this.objects[e].value.substring(0,2)?t+this.objects[e].value:t+"<"+this.objects[e].value+">";else if("http://www.w3.org/2001/XMLSchema#integer"==this.objects[e].type||"http://www.w3.org/2001/XMLSchema#decimal"==this.objects[e].type||"http://www.w3.org/2001/XMLSchema#double"==this.objects[e].type||"http://www.w3.org/2001/XMLSchema#boolean"==this.objects[e].type)t+=this.objects[e].value;else if("http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"==this.objects[e].type){for(var r=new XMLSerializer,n="",i=0;i<this.objects[e].value.length;i++)if(this.objects[e].value[i].nodeType==Node.ELEMENT_NODE){var o,u=a.getPrefixMap(this.objects[e].value[i]),s=[];for(o in u)s.push(o);s.sort();for(var c=this.objects[e].value[i].cloneNode(!0),l=0;l<s.length;l++)c.setAttributeNS("http://www.w3.org/2000/xmlns/",0==s[l].length?"xmlns":"xmlns:"+s[l],u[s[l]]);n+=r.serializeToString(c)}else this.objects[e].value[i].nodeType==Node.TEXT_NODE&&(n+=this.objects[e].value[i].nodeValue);t+='"""'+n.replace(/"""/,'\\"\\"\\"')+'"""^^<http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral>'}else r=this.objects[e].value,t=0<=r.indexOf("\n")||0<=r.indexOf("\r")?t+'"""'+r.replace(/"""/,'\\"\\"\\"')+'"""':t+'"'+r.replace(/"/,'\\"')+'"',"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral"!=this.objects[e].type?t+="^^<"+this.objects[e].type+">":this.objects[e].language&&(t+="@"+this.objects[e].language);return t},i.prototype=new e,i.prototype.constructor=e,i.prototype.getObjectSize=function(t){var e,r=0;for(e in t)t.hasOwnProperty(e)&&r++;return r},i.prototype.init=function(){this.target.tripleCount=0;var t=this;this.finishedHandlers.push(function(){for(var e in t.target.graph.subjects)0==t.getObjectSize(t.target.graph.subjects[e].predicates)&&delete t.target.graph.subjects[e]})},i.prototype.newSubjectOrigin=function(t,e){for(var r=this.newSubject(null,e),n=0;n<r.origins.length;n++)if(r.origins[n]===t)return;r.origins.push(t),t.data||Object.defineProperty(t,"data",{value:r,writable:!1,configurable:!0,enumerable:!0})},i.prototype.newSubject=function(t,e){var r=this.target.graph.subjects[e];return r||(r=new n(this.target,e),this.target.graph.subjects[e]=r),r},i.prototype.addTriple=function(t,r,n,i){var o=this.newSubject(t,r),r=o.predicates[n];r||(r=new a(n),o.predicates[n]=r);for(var u=0;u<r.objects.length;u++)if(r.objects[u].type==i.type&&r.objects[u].value==i.value)return void(r.objects[u].origin!==t&&(Array.isArray(r.objects[u].origin)||(n=[],n.push(r.objects[u].origin),r.objects[u].origin=n),r.objects[u].origin.push(t)));this.target.tripleCount++,r.objects.push(i),i.origin=t,n==e.typeURI&&o.types.push(i.value)},i.rdfaCopyPredicate="http://www.w3.org/ns/rdfa#copy",i.rdfaPatternType="http://www.w3.org/ns/rdfa#Pattern",i.prototype.copyProperties=function(){var t,r=[],n={};for(t in this.target.graph.subjects){var o=this.target.graph.subjects[t],u=o.predicates[i.rdfaCopyPredicate];if(u){r.push(t);for(var s=0;s<u.objects.length;s++)if(u.objects[s].type==e.objectURI){var c=u.objects[s].value,l=this.target.graph.subjects[c];if(l){var h=l.predicates[e.typeURI];if(h){for(var f=!1,p=0;p<h.objects.length&&!f;p++)h.objects[p].value==i.rdfaPatternType&&h.objects[p].type==e.objectURI&&(f=!0);if(f){n[c]=!0;for(var d in l.predicates)if(c=l.predicates[d],d==e.typeURI){if(1!=c.objects.length)for(p=0;p<c.objects.length;p++)c.objects[p].value!=i.rdfaPatternType&&(h=o.predicates[d],h||(h=new a(d),o.predicates[d]=h),h.objects.push({type:c.objects[p].type,value:c.objects[p].value,language:c.objects[p].language,origin:c.objects[p].origin}),o.types.push(c.objects[p].value))}else for(h=o.predicates[d],h||(h=new a(d),o.predicates[d]=h),p=0;p<c.objects.length;p++)h.objects.push({type:c.objects[p].type,value:c.objects[p].value,language:c.objects[p].language,origin:c.objects[p].origin})}}}}}}for(s=0;s<r.length;s++)o=this.target.graph.subjects[r[s]],delete o.predicates[i.rdfaCopyPredicate];for(t in n)delete this.target.graph.subjects[t]},u.prototype.getProperties=function(){var t,e=[];for(t in this._data_.properties)e.push(t);return e},u.prototype.getSubject=function(){return this._data_.subject},u.prototype.get=function(t){return t=this._data_.owner._data_.graph.curieParser.parse(t,!0),(t=this._data_.properties[t])?t[0]:null},u.prototype.getAll=function(t){return t=this._data_.owner._data_.graph.curieParser.parse(t,!0),this._data_.properties[t]},s.prototype=new t,s.prototype.constructor=s,s.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",s.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",s.NCNAME=RegExp("^"+e.nameStartChar+e.nameChar+"*$"),s.toProjection=function(t,e,r){var n,a=new u(t,e.subject);for(n in e.predicates){var i=e.predicates[n],o=[];a._data_.properties[n]=o;for(var s=0;s<i.objects.length;s++)o.push(i.objects[s].value)}if(r)for(var c in r)n=r[c],n=t._data_.graph.curieParser.parse(n,!0),(o=a._data_.properties[n])&&(a[c]=1==o.length?o[0]:o);return a},s.prototype.getProperties=function(t){var e=[];if(t){if(t=this._data_.graph.curieParser.parse(t,!0),a=this._data_.graph.subjects[t])for(var r in a.predicates)e.push(r)}else{var n,t={};for(n in this._data_.graph.subjects){var a=this._data_.graph.subjects[n];if(a)for(r in a.predicates)t[r]||(t[r]=!0,e.push(r))}}return e},s.prototype.getSubjects=function(t,e){var r=[];if(t&&(t=this._data_.graph.curieParser.parse(t,!0)),t&&e){var n,a=this._data_.graph.curieParser.parse(e,!0);for(n in this._data_.graph.subjects){var i=this._data_.graph.subjects[n];if(i=i.predicates[t])for(var o=0;o<i.objects.length;o++)if(i.objects[o].value==e||i.objects[o].value==a){r.push(n);break}}}else if(t)for(n in this._data_.graph.subjects)i=this._data_.graph.subjects[n],
(i=i.predicates[t])&&r.push(n);else if(e)for(n in a=this._data_.graph.curieParser.parse(e,!0),this._data_.graph.subjects){var u,i=this._data_.graph.subjects[n];for(u in i.predicates)if(i=n.predicates[u]){for(var s=null,o=0;!s&&o<i.objects.length;o++)i.objects[o].value!=e&&node.objects[o].value!=a||(s=i.objects[o]);if(s){r.push(n);break}}}else for(n in this._data_.graph.subjects)r.push(n);return r},s.prototype.getValueOrigins=function(t,e){var r=[],n=function(t){if(t)for(var e=0;e<t.objects.length;e++)if(Array.isArray(t.objects[e].origin))for(var n=0;n<t.objects[e].origin.length;n++)r.push({origin:t.objects[e].origin[n],value:t.objects[e].value});else r.push({origin:t.objects[e].origin,value:t.objects[e].value})};if(e&&(e=this._data_.graph.curieParser.parse(e,!0)),t){var t=this._data_.graph.curieParser.parse(t,!0),a=this._data_.graph.subjects[t];if(a)if(e)n(a.predicates[e]);else for(var i in a.predicates)n(a.predicates[i])}else if(e)for(var o in this._data_.graph.subjects)a=this._data_.graph.subjects[o],n(a.predicates[e]);else for(o in this._data_.graph.subjects)for(i in a=this._data_.graph.subjects[o],a.predicates)n(a.predicates[i]);return r},s.prototype.getValues=function(t,e){var r=[];if(e&&(e=this._data_.graph.curieParser.parse(e,!0)),t){var t=this._data_.graph.curieParser.parse(t,!0),n=this._data_.graph.subjects[t];if(n)if(e){var a=n.predicates[e];if(a)for(var i=0;i<a.objects.length;i++)r.push(a.objects[i].value)}else for(var o in n.predicates)for(a=n.predicates[o],i=0;i<a.objects.length;i++)r.push(a.objects[i].value)}else if(e){for(var u in this._data_.graph.subjects)if(n=this._data_.graph.subjects[u],a=n.predicates[e])for(i=0;i<a.objects.length;i++)r.push(a.objects[i].value)}else for(u in this._data_.graph.subjects)for(o in n=this._data_.graph.subjects[u],n.predicates)for(a=n.predicates[o],i=0;i<a.objects.length;i++)r.push(a.objects[i].value);return r},Object.defineProperty(s.prototype,"prefixes",{enumerable:!0,get:function(){return Object.keys(this._data_.graph.prefixes)}}),s.prototype.setMapping=function(t,e){this._data_.graph.prefixes[t]=e},s.prototype.getMapping=function(t){return this._data_.graph.prefixes[t]},s.prototype.expand=function(t){return this._data_.graph.curieParser.parse(t,!0)},s.prototype.shorten=function(t){for(prefix in this._data_.graph.prefixes){var e=this._data_.graph.prefixes[prefix];if(0==t.indexOf(e))return prefix+":"+t.substring(e.length)}return t},s.prototype.getSubject=function(t){return t?(t=this._data_.graph.curieParser.parse(t,!0),(t=this._data_.graph.subjects[t])?t:null):null},s.prototype.getProjection=function(t,e){if(!t)return null;var t=this._data_.graph.curieParser.parse(t,!0),r=this._data_.graph.subjects[t];return r?s.toProjection(this,r,e):null},s.prototype.getProjections=function(t,e,r){t&&(t=this._data_.graph.curieParser.parse(t,!0));var n=[];if(void 0===e&&void 0===r&&(r=t),t&&e){var a,i=this._data_.graph.curieParser.parse(e,!0);for(a in this._data_.graph.subjects){var o=this._data_.graph.subjects[a],u=o.predicates[t];if(u)for(var c=0;c<u.objects.length;c++)if(u.objects[c].value==e||u.objects[c].value==i){n.push(s.toProjection(this,o,r));break}}}else if(t)for(a in this._data_.graph.subjects)o=this._data_.graph.subjects[a],o.predicates[t]&&n.push(s.toProjection(this,o,r));else for(a in this._data_.graph.subjects)o=this._data_.graph.subjects[a],n.push(s.toProjection(this,o,r));return n},s.prototype.merge=function(t,r){var n=!(!r||!r.mergeBlankNodes),a=0;if(!n)for(var i in this._data_.graph.subjects){var o=/_:([0-9]+)/.exec(i);o&&(o=parseInt(o[1]))>a&&(a=o)}if(t){var u={},n=n?function(t){return t}:function(t){var e=u[t];return!e&&/_:([0-9]+)/.test(t)&&(a++,e="_:"+a,u[t]=e),e||t};for(i in t){var s=n(i),o=t[i];if(i=s||i,s=this._data_.graph.subjects[i])for(var c in o.predicates){var l=o.predicates[c],h=s.predicates[c];if(h)for(var f=0;f<l.objects.length;f++){for(var p=l.objects[f],d=[],g=0;g<h.objects.length;g++)p.type!=e.XMLLiteralURI||h.objects[g].type==p.type&&h.objects[g].value===p.value?(h.objects[g].type!=p.type||h.objects[g].value==p.value)&&d.push(p):d.push(p);for(g=0;g<d.length;g++)d[g].type==e.objectURI&&(d[g].value=n(d[g].value)),h.objects.push(d[g])}else for(s.predicates[c]=l,f=0;f<l.objects.length;f++)l.objects[f].type==e.objectURI&&(l.objects[f].value=n(l.objects[f].value))}else for(c in this._data_.graph.subjects[i]=o,o.subject=i,o.predicates)for(l=o.predicates[c],f=0;f<l.objects.length;f++)l.objects[f].type==e.objectURI&&(l.objects[f].value=n(l.objects[f].value))}}if(r&&r.prefixes)for(var m in r.prefixes)this._data_.graph.prefixes[m]||(this._data_.graph.prefixes[m]=r.prefixes[m])},Element.prototype.getElementsByType=function(){var t=arguments,e=this.ownerDocument.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){if(!e.data)return NodeFilter.FILTER_SKIP;for(var r=0;r<t.length;r++)if(0<=e.data.types.indexOf(t[r]))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}},!1),r=[];for(r.item=function(t){return this[t]};e.nextNode();)r.push(e.currentNode);return r},Element.prototype.getFirstElementByType=function(){var t=arguments,e=this.ownerDocument.createTreeWalker(this,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){if(!e.data)return NodeFilter.FILTER_SKIP;for(var r=0;r<t.length;r++)if(0<=e.data.types.indexOf(t[r]))return NodeFilter.FILTER_ACCEPT;return NodeFilter.FILTER_SKIP}},!1);return e.nextNode()?e.currentNode:null},s.attach=function(t,e){Object.defineProperty(t,"data",{value:new s(e&&e.baseURI?e.baseURI:t.nodeType==Node.DOCUMENT_NODE?t.documentElement.baseURI:t.graph.baseURI),writable:!1,configurable:!1,enumerable:!0}),t.getElementsByType=function(t){return this.getElementsByProperty("http://www.w3.org/1999/02/22-rdf-syntax-ns#type",t)},t.getElementsBySubject=function(t){var e=[];if(e.item=function(t){return this[t]},t=this.data._data_.graph.curieParser.parse(t,!0),t=this.data._data_.graph.subjects[t])for(var r=0;r<t.origins.length;r++)e.push(t.origins[r]);return e},t.getElementsByProperty=function(t,e){var r=[];r.item=function(t){return this[t]},e&&(e=this.data._data_.graph.curieParser.parse(e,!1));var n,a=void 0===e,t=this.data._data_.graph.curieParser.parse(t,!0);for(n in this.data._data_.graph.subjects){var i=this.data._data_.graph.subjects[n].predicates[t];if(i)for(var o=0;o<i.objects.length;o++)(a||i.objects[o].value==e)&&(Array.isArray(i.objects[o].origin)?r.push.apply(r,i.objects[o].origin):r.push(i.objects[o].origin))}return r},t.getElementSubject=function(t){for(var e in this.data._data_.graph.subjects)if(0<=this.data._data_.graph.subjects[e].origins.indexOf(t))return e;return null}},c.prototype=new t,c.prototype.constructor=c,c.commentRE=/^#.*/,c.wsRE=/^\s+/,c.iriRE=/^\<((?:(?:[^\x00-\x20<>"{}|^`\\]|\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]|\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])*))\>/,c.singleQuoteLiteralRE=/^'((?:[^'\n\r\\]*|\\'|\\)*)'/,c.doubleQuoteLiteralRE=/^\"((?:[^"\n\r\\]*|\\"|\\)*)\"/,c.longDoubleQuoteLiteralRE=/^\"\"\"((?:[^"\\]*|\\"|\\|\"(?!\")|\"\"(?!\"))*)\"\"\"/,c.longSingleQuoteLiteralRE=/^'''((?:[^'\\]*|\\'|\\|'(?!')|''(?!'))*)'''/,c.typeRE=/^\^\^/,c.dotRE=/^\./,c.openSquareBracketRE=/^\[/,c.closeSquareBracketRE=/^\]/,c.prefixRE=/^((?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff])(?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\.\-\u00B7]|[0-9]|[\u0300-\u036F]|[\u203F-\u2040])*(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-\u00B7]|[0-9]|[\u0300-\u036F]|[\u203F-\u2040]))?)?):/,c.blankNodeRE=/^(_:)/,c.localNameRE=/^((?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_:]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=\/?#@%])(?:(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-\.:\u00b7]|[\u0300-\u036F]|[\u203F-\u2040]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=\/?#@%])*(?:[A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD]|[\ud800-\udfff][\ud800-\udfff]|[_\-:\u00b7]|[\u0300-\u036F]|[\u203F-\u2040]|[0-9]|%[0-9A-Fa-f][0-9A-Fa-f]|\\[_~\.\-!$&'()*+,;=\/?#@%]))?)/,c.langRE=/^@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)/,c.prefixIDRE=/^@prefix/,c.baseRE=/^@base/,c.sparqlPrefixRE=/^[Pp][Rr][Ee][Ff][Ii][Xx]/,c.sparqlBaseRE=/^[Bb][Aa][Ss][Ee]/,c.semicolonRE=/^;/,c.commaRE=/^,/,c.aRE=/^a/,c.openParenRE=/^\(/,c.closeParenRE=/^\)/,c.integerRE=/^([+-]?[0-9]+)/,c.decimalRE=/^([+-]?[0-9]*\.[0-9]+)/,c.doubleRE=/^([+-]?(?:[0-9]+\.[0-9]*[eE][+-]?[0-9]+|\.[0-9]+[eE][+-]?[0-9]+|[0-9]+[eE][+-]?[0-9]+))/,c.booleanRE=/^(true|false)/,c.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",c.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",c.plainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",c.nilURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil",c.firstURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",c.restURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",c.xsdStringURI="http://www.w3.org/2001/XMLSchema#string",c.xsdIntegerURI="http://www.w3.org/2001/XMLSchema#integer",c.xsdDecimalURI="http://www.w3.org/2001/XMLSchema#decimal",c.xsdDoubleURI="http://www.w3.org/2001/XMLSchema#double",c.xsdBooleanURI="http://www.w3.org/2001/XMLSchema#boolean",c.prototype.reset=function(){this.context=new r,this.errorCount=this.blankNodeCounter=0,this.lineNumber=1},c.dumpGraph=function(t){for(var e in t)console.log(t[e].toString())},c.prototype.newBlankNode=function(){return"_:"+ ++this.blankNodeCounter},c.prototype._match=function(t,e){var r=t.exec(e);return r?{text:r[0],remaining:e.substring(r[0].length),values:1<r.length?r.splice(1):null}:null},c.prototype._trim=function(t){var e=null;do{(e=c.wsRE.exec(t))&&(this.lineNumber+=e[0].split(/\n/).length-1,t=t.substring(e[0].length)),(e=c.commentRE.exec(t))&&(t=t.substring(e[0].length))}while(e);return t},c.prototype.reportError=function(t){this.onError(this.lineNumber,t)},c.prototype.parse=function(t,e){for(e&&(this.context.baseURI=this.parseURI(e));0<t.length;)t=this._trim(t),0<t.length&&(t=this.parseStatement(t))},c.prototype.parseStatement=function(t){var e=this._match(c.prefixIDRE,t);if(e){var r=this._trim(e.remaining),e=this.parsePrefixName(r);if(!e)return this.reportError("Cannot parse prefix after @prefix: "+t.substring(20)+"..."),this.errorCount++,r;if(t=e.prefix,r=this._trim(e.remaining),!(e=this.parseIRIReference(r)))return this.reportError("Cannot parse IRI after @prefix: "+r.substring(20)+"..."),this.errorCount++,r;this.context.prefixes[t]=this.context.baseURI?this.context.baseURI.resolve(e.iri):e.iri;try{this.parseURI(this.context.prefixes[t])}catch(t){this.reportError(t.toString()),this.errorCount++}return r=this._trim(e.remaining),(e=this._match(c.dotRE,r))?e.remaining:(this.reportError("Missing end . for @prefix statement.  Found: "+r.substring(0,20)+"..."),this.errorCount++,r)}if(e=this._match(c.baseRE,t)){if(r=this._trim(e.remaining),!(e=this.parseIRIReference(r)))return this.reportError("Cannot parse IRI after @base: "+r.substring(0,20)+"..."),this.errorCount++,r;try{this.context.baseURI=this.context.baseURI?this.parseURI(this.context.baseURI.resolve(e.iri)):this.parseURI(e.iri)}catch(t){this.reportError(t+"; IRI: "+e.iri),this.errorCount++}return r=this._trim(e.remaining),(e=this._match(c.dotRE,r))?e.remaining:(this.reportError("Missing end . for @base statement.  Found: "+r.substring(0,20)+"..."),this.errorCount++,r)}if(e=this._match(c.sparqlPrefixRE,t)){if(r=this._trim(e.remaining),!(e=this.parsePrefixName(r)))return this.reportError("Cannot parse prefix after PREFIX: "+t.substring(0,20)+"..."),this.errorCount++,r;if(t=e.prefix,r=this._trim(e.remaining),!(e=this.parseIRIReference(r)))return this.reportError("Cannot parse IRI after PREFIX: "+r.substring(0,20)+"..."),this.errorCount++,r;this.context.prefixes[t]=this.context.baseURI?this.context.baseURI.resolve(e.iri):e.iri;try{this.parseURI(this.context.prefixes[t])}catch(t){this.reportError(t.toString()),this.errorCount++}return e.remaining}if(e=this._match(c.sparqlBaseRE,t)){if(r=this._trim(e.remaining),!(e=this.parseIRIReference(r)))return this.reportError("Cannot parse IRI after BASE: "+r.substring(0,20)+"..."),this.errorCount++,r;try{this.context.baseURI=this.context.baseURI?this.parseURI(this.context.baseURI.resolve(e.iri)):this.parseURI(e.iri)}catch(t){this.reportError(t+"; IRI: "+e.iri),this.errorCount++}return e.remaining}return t=this.parseTriples(t),t=this._trim(t),(e=this._match(c.dotRE,t))?e.remaining:(this.reportError("Missing end . triples.  Found: "+t.substring(0,20)+"..."),this.errorCount++,t)},c.prototype.parseTriples=function(t){var e=this.parseIRI(t);if(e||(e=this.parseBlankNode(t)))return this.parsePredicateObjectList(e.iri,this._trim(e.remaining));if(e=this._match(c.openParenRE,t)){var t=null,r=e.remaining,n=null;do{if(r=this._trim(r),e=this._match(c.closeParenRE,r)){r=e.remaining,n?this.addTriple(n,c.restURI,{type:c.objectURI,value:c.nilURI}):t=this.newBlankNode();break}e=this.newBlankNode(),n?this.addTriple(n,c.restURI,{type:c.objectURI,value:e}):t=e,n=e,r=this.parseObject(n,c.firstURI,r)}while(0<r.length);return this.parsePredicateObjectList(t,this._trim(r))}return(e=this._match(c.openSquareBracketRE,t))?(t=this.newBlankNode(),r=this._trim(e.remaining),(e=this._match(c.closeSquareBracketRE,r))?r=e.remaining:(r=this.parsePredicateObjectList(t,r),(e=this._match(c.closeSquareBracketRE,this._trim(r)))?r=e.remaining:this.reportError("Missing end square bracket ']'.")),this.parsePredicateObjectList(t,this._trim(r),!0)):e?this.parsePredicateObjectList(e.iri,this._trim(e.remaining)):(this.reportError("Terminating: Cannot parse at "+t.substring(0,20)+" ..."),this.errorCount++,"")},c.prototype.parsePredicateObjectList=function(t,e,r){var n=!0,a=null;do{var i=this.parseIRI(e);if(!i&&(i=this._match(c.aRE,e))&&(i.iri=c.typeURI),!i)return r?e:(this.reportError("Terminating: Cannot parse predicate IRI."),this.errorCount++,"");if(a=this.parseObjectList(t,i.iri,this._trim(i.remaining)),i=this._match(c.semicolonRE,this._trim(a))){do{e=this._trim(i.remaining),i=this._match(c.semicolonRE,e)}while(i);r=!0}else n=!1}while(n);return a},c.prototype.parseObjectList=function(t,e,r){var n=!0,a=null;do{var a=this.parseObject(t,e,r),i=this._match(c.commaRE,this._trim(a));i?r=this._trim(i.remaining):n=!1}while(n);return a},c.prototype.parseObject=function(t,e,r){var n=this.parseIRI(r);if(n||(n=this.parseBlankNode(r)))return this.addTriple(t,e,{type:c.objectURI,value:n.iri}),n.remaining;if(n=this._match(c.openParenRE,r)){var a=t,i=e,o=n.remaining;do{if(o=this._trim(o),n=this._match(c.closeParenRE,o))return this.addTriple(a,a==t?e:c.restURI,{type:c.objectURI,value:c.nilURI}),n.remaining;n=this.newBlankNode(),a==t?this.addTriple(t,e,{type:c.objectURI,value:n}):this.addTriple(a,c.restURI,{type:c.objectURI,value:n}),a=n,i=c.firstURI,o=this.parseObject(a,i,o)}while(0<o.length)}return(n=this._match(c.openSquareBracketRE,r))?(r=this.newBlankNode(),this.addTriple(t,e,{type:c.objectURI,value:r}),o=this.parsePredicateObjectList(r,this._trim(n.remaining),!0),o=this._trim(o),(n=this._match(c.closeSquareBracketRE,o))?n.remaining:(this.reportError("Missing close square bracket ']' for blank node "+r+" predicate object list"),this.errorCount++,o)):(n=this.parseLiteral(r))?(this.addTriple(t,e,{type:n.type?n.type:c.plainLiteralURI,value:n.literal,language:n.language}),n.remaining):(this.reportError("Terminating: Cannot parse literal at "+r.substring(0,20)),this.errorCount++,"")},c.prototype.parsePrefixName=function(t){return(t=this._match(c.prefixRE,t))&&(t.prefix=t.values[0]),t},c.prototype.parseIRIReference=function(t){return(t=this._match(c.iriRE,t))&&(t.iri=c.expandURI(t.values[0])),t},c.prototype.parseIRI=function(t){var e=this._match(c.iriRE,t);if(e){t=c.expandURI(e.values[0]),e.iri=this.context.baseURI?this.context.baseURI.resolve(t):t;try{this.parseURI(e.iri)}catch(t){this.reportError(t.toString()),this.errorCount++}return e}if(e=this._match(c.prefixRE,t)){var r=e.values[0],t=this.context.prefixes[r];if(!t)return this.reportError("No prefix mapping for "+r),this.errorCount++,null;if(r=e.remaining,e=this._match(c.localNameRE,r)){e.iri=t+c.expandName(e.values[0]);try{this.parseURI(e.iri)}catch(t){this.reportError(t.toString()),this.errorCount++}return e}return{iri:t,remaining:r}}return null},c.prototype.parseBlankNode=function(t){return(t=this._match(c.blankNodeRE,t))&&(t=this._match(c.localNameRE,t.remaining))?(t.iri="_:"+c.expandName(t.values[0]),t):null},c.prototype.parseLiteral=function(t){var e=this._match(c.longDoubleQuoteLiteralRE,t);if(e||(e=this._match(c.longSingleQuoteLiteralRE,t)),e||(e=this._match(c.singleQuoteLiteralRE,t)),e||(e=this._match(c.doubleQuoteLiteralRE,t)),e){t=null;try{t=c.expandLiteral(e.values[0])}catch(t){this.reportError(t.toString()),this.errorCount++}var r=e.remaining;if(e=this._match(c.langRE,r))return e.literal=t,e.language=e.values[0],e;if(e=this._match(c.typeRE,r)){if(r=e.remaining,e=this.parseIRI(r))return e.literal=t,e.type=e.iri,e;this.reportError("Missing type URI after ^^"),this.errorCount++}return{literal:t,remaining:r}}return(e=this._match(c.doubleRE,t))?(e.literal=e.values[0],e.type=c.xsdDoubleURI,e):(e=this._match(c.decimalRE,t))?(e.literal=e.values[0],e.type=c.xsdDecimalURI,e):(e=this._match(c.integerRE,t))?(e.literal=e.values[0],e.type=c.xsdIntegerURI,e):(e=this._match(c.booleanRE,t))?(e.literal=e.values[0],e.type=c.xsdBooleanURI,e):null},c.prototype.newSubject=function(t){var e=this.context.subjects[t];return e||(e=new n(this.context,t),this.context.subjects[t]=e),e},c.expandHex=function(t){for(var e=t.split(/[0-9A-Fa-f]+/),r=0;r<e.length;r++)if(0<e[r].length)throw"Bad hex in escape: "+t;if(e=parseInt(t,16),isNaN(e))throw"Bad hex in escape: "+t;return 65536>e?String.fromCharCode(e):(t=e-65536,e=1023&t,String.fromCharCode(55296+(t>>10))+String.fromCharCode(e+56320))},c.escapedSequenceRE=/(\\t|\\b|\\n|\\r|\\f|\\"|\\'|\\\\|(?:\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])|(?:\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]))/,c.expandLiteral=function(t){for(var t=t.split(c.escapedSequenceRE),e="",r=0;r<t.length;r++)if(0!=t[r].length)if("\\t"==t[r])e+="\t";else if("\\b"==t[r])e+="\b";else if("\\n"==t[r])e+="\n";else if("\\r"==t[r])e+="\r";else if("\\f"==t[r])e+="\f";else if('\\"'==t[r])e+='"';else if("\\'"==t[r])e+="'";else if("\\\\"==t[r])e+="\\";else if(6==t[r].length&&"\\"==t[r].charAt(0)&&"u"==t[r].charAt(1))e+=c.expandHex(t[r].substring(2));else if(10==t[r].length&&"\\"==t[r].charAt(0)&&"U"==t[r].charAt(1))e+=c.expandHex(t[r].substring(2));else{var n=t[r].substring(0,2);if(2==n.length&&"\\U"==n)throw"Bad hex in \\U escape "+t[r].substring(0,10);if(2==n.length&&"\\u"==n)throw"Bad hex in \\u escape "+t[r].substring(0,6);if(0<=(n=t[r].indexOf("\\")))throw"Bad escape "+t[r].substring(n,n+2);e+=t[r]}return e},c.escapedURIRE=/((?:\\U[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f])|(?:\\u[0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f][0-9A-Fa-f]))/,c.expandURI=function(t){for(var t=t.split(c.escapedURIRE),e="",r=0;r<t.length;r++)if(0!=t[r].length)if(6==t[r].length&&"\\"==t[r].charAt(0)&&"u"==t[r].charAt(1))e+=c.expandHex(t[r].substring(2));else if(10==t[r].length&&"\\"==t[r].charAt(0)&&"U"==t[r].charAt(1))e+=c.expandHex(t[r].substring(2));else{var n=t[r].substring(0,2);if(2==n.length&&"\\U"==n)throw"Bad hex in \\U escape "+t[r].substring(0,10);if(2==n.length&&"\\u"==n)throw"Bad hex in \\u escape "+t[r].substring(0,6);if(0<=(n=t[r].indexOf("\\")))throw"Bad escape "+t[r].substring(n,n+2);e+=t[r]}return e},c.escapedNameCharRE=/(\\[_~\.\-!$&'()*+,;=\/?#@%])/,c.expandName=function(t){for(var t=t.split(c.escapedNameCharRE),e="",r=0;r<t.length;r++)0!=t[r].length&&(e="\\"==t[r].charAt(0)?e+t[r].charAt(1):e+t[r]);return e},c.prototype.addTriple=function(t,e,r){var t=this.newSubject(t),n=t.predicates[e];n||(n=new a(e),t.predicates[e]=n),n.objects.push(r),e==c.typeURI&&t.types.push(r.value)};var h={attach:function(t,e){var r=t.implementation.hasFeature;t.implementation.hasFeature=function(t,e){return"RDFaAPI"==t&&"1.1"==e||r.apply(this,arguments)};var n=!!t.data;if(t.head){var a=t.createElement("meta");a.setAttribute("name","green-turtle-rdfa-message"),t.head.appendChild(a);var o=function(){var e=t.createEvent("Event");return e.initEvent("green-turtle-rdfa-extension",!0,!0),e};a.addEventListener("green-turtle-rdfa-document",function(){var e=JSON.parse(a.getAttribute("content"));if("status"==e.type){var r=o();a.setAttribute("content",'{ "type": "status", "loaded": '+n+', "count": '+t.data._data_.tripleCount+" }"),setTimeout(function(){a.dispatchEvent(r)},1)}else if("get-subjects"==e.type){var i=t.data.getSubjects();a.setAttribute("content",'{ "type": "subjects", "subjects": '+JSON.stringify(i)+" }");var u=o();setTimeout(function(){a.dispatchEvent(u)},1)}else if("get-subject"==e.type){var s=null;if(t.data.getSubject)s=t.data.getSubject(e.subject).toObject();else for(var s={subject:e.subject,predicates:{}},c=t.data.getProjection(e.subject),l=c.getProperties(),h=0;h<l.length;h++){var f=[];s.predicates[l[h]]={predicate:predicate,objects:f};for(var p=c.getAll(l[h]),d=0;d<p.length;d++)i[p[d]]?f.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:p[d]}):f.push({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",value:p[d]})}a.setAttribute("content",JSON.stringify({type:"subject",subject:e.subject,triples:s}));var g=o();setTimeout(function(){a.dispatchEvent(g)},1)}},!1)}t.data?t.data._data_&&t.data._data_.graph.clear():s.attach(t,e);var u=function(){var r=new i(t.data._data_);r.finishedHandlers.push(function(){for(var r in h.processors)h.processors[r].process(t,e)}),r.finishedHandlers.push(function(t){if(t.ownerDocument){var e=t.ownerDocument.createEvent("HTMLEvents");e.initEvent("rdfa.loaded",!0,!0),t.ownerDocument.dispatchEvent(e)}}),r.process(t.documentElement,e),n=!0};"loading"==t.readyState?window.addEventListener("load",function(){u()},!1):u()},parse:function(t,e,r){var n=this.processors[e];if(!n)throw"Unsupported media type "+e;if(n=n.createParser(),r&&r.errorHandler&&(n.onError=r.errorHandler),r=r?r.baseURI:null,n.parse(t,r),0<n.errorCount)throw r?"Errors during parsing "+r+" of type "+e:"Errors during parsing of type "+e;return n.context},createDocumentData:function(t){return new s(t||(window?window.location.href:"about:blank"))}};return Object.defineProperty(h,"processors",{value:{},writable:!1,configurable:!1,enumerable:!0}),h.processors["text/turtle"]={createParser:function(){return new c},process:function(t,e){var r=t.nodeType==Node.DOCUMENT_NODE?t:t.ownerDocument;if(r.data){for(var n=!0,a=r.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","script"),i=0;i<a.length;i++)if("text/turtle"==a[i].getAttribute("type")){var o=this.createParser();e&&e.errorHandler&&(o.onError=e.errorHandler),o.parse(a[i].textContent,e?e.baseURI:null),0<o.errorCount?n=!1:r.data.merge(o.context.subjects,{prefixes:o.context.prefixes})}return n}}},Object.defineProperty(l,"implementation",{value:h,writable:!1,configurable:!1,enumerable:!0}),l.attach=function(t,e){h.attach(t,e)},l}();GreenTurtle.attach(document),function(){function t(t){for(var e=-1,r=t.length,n=[];++e<r;)n.push(t[e]);return n}function e(t){return Array.prototype.slice.call(t)}function r(){}function n(t){return t}function a(){return this}function i(){return!0}function o(t){return"function"==typeof t?t:function(){return t}}function u(t,e,r){return function(){var n=r.apply(e,arguments);return arguments.length?t:n}}function s(t){return null!=t&&!isNaN(t)}function c(t){return t.length}function l(t){return null==t}function h(t){return t.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function f(t){for(var e=1;t*e%1;)e*=10;return e}function p(){}function g(t){function e(){for(var e,r=n,a=-1,i=r.length;++a<i;)(e=r[a].on)&&e.apply(this,arguments);return t}var n=[],a=new r;return e.on=function(e,r){var i,o=a.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,i=n.indexOf(o)).concat(n.slice(i+1)),a.remove(e)),r&&n.push(a.set(e,{on:r})),t)},e}function m(t,e){return e-(t?1+Math.floor(Math.log(t+Math.pow(10,1+Math.floor(Math.log(t)/Math.LN10)-e))/Math.LN10):1)}function v(t){return t+""}function y(t){for(var e=t.lastIndexOf("."),r=e>=0?t.substring(e):(e=t.length,""),n=[];e>0;)n.push(t.substring(e-=3,e+3));return n.reverse().join(",")+r}function b(t,e){return{scale:Math.pow(10,3*(8-e)),symbol:t}}function w(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function x(t){return function(e){return 1-t(1-e)}}function _(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function M(t){return t}function R(t){return function(e){return Math.pow(e,t)}}function j(t){return 1-Math.cos(t*Math.PI/2)}function I(t){return Math.pow(2,10*(t-1))}function E(t){return 1-Math.sqrt(1-t*t)}function N(t,e){var r;return arguments.length<2&&(e=.45),arguments.length<1?(t=1,r=e/4):r=e/(2*Math.PI)*Math.asin(1/t),function(n){return 1+t*Math.pow(2,10*-n)*Math.sin(2*(n-r)*Math.PI/e)}}function F(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function A(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function U(){d3.event.stopPropagation(),d3.event.preventDefault()}function C(){for(var t,e=d3.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new p,r=0,n=arguments.length;++r<n;)e[arguments[r]]=g(e);return e.of=function(r,n){return function(a){try{var i=a.sourceEvent=d3.event;a.target=t,d3.event=a,e[a.type].apply(r,n)}finally{d3.event=i}}},e}function S(t){return"transform"==t?d3.interpolateTransform:d3.interpolate}function k(t,e){return e=e-(t=+t)?1/(e-t):0,function(r){return(r-t)*e}}function L(t,e){return e=e-(t=+t)?1/(e-t):0,function(r){return Math.max(0,Math.min(1,(r-t)*e))}}function P(t,e,r){return new D(t,e,r)}function D(t,e,r){this.r=t,this.g=e,this.b=r}function O(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function z(t,e,r){var n,a,i,o=0,u=0,s=0;if(n=/([a-z]+)\((.*)\)/i.exec(t))switch(a=n[2].split(","),n[1]){case"hsl":return r(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(q(a[0]),q(a[1]),q(a[2]))}return(i=Ln.get(t))?e(i.r,i.g,i.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(o=t.charAt(1),o+=o,u=t.charAt(2),u+=u,s=t.charAt(3),s+=s):7===t.length&&(o=t.substring(1,3),u=t.substring(3,5),s=t.substring(5,7)),o=parseInt(o,16),u=parseInt(u,16),s=parseInt(s,16)),e(o,u,s))}function H(t,e,r){var n,a,i=Math.min(t/=255,e/=255,r/=255),o=Math.max(t,e,r),u=o-i,s=(o+i)/2;return u?(a=s<.5?u/(o+i):u/(2-o-i),n=t==o?(e-r)/u+(e<r?6:0):e==o?(r-t)/u+2:(t-e)/u+4,n*=60):a=n=0,X(n,a,s)}function q(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function X(t,e,r){return new B(t,e,r)}function B(t,e,r){this.h=t,this.s=e,this.l=r}function Y(t,e,r){function n(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(o-i)*t/60:t<180?o:t<240?i+(o-i)*(240-t)/60:i}function a(t){return Math.round(255*n(t))}var i,o;return t%=360,t<0&&(t+=360),e=e<0?0:e>1?1:e,r=r<0?0:r>1?1:r,o=r<=.5?r*(1+e):r+e-r*e,i=2*r-o,P(a(t+120),a(t),a(t-120))}function Z(t){return xn(t,qn),t}function V(t){return function(){return Pn(t,this)}}function G(t){return function(){return Dn(t,this)}}function $(t,e){function r(){if(e=this.classList)return e.add(t);var e=this.className,r=null!=e.baseVal,n=r?e.baseVal:e;i.lastIndex=0,i.test(n)||(n=h(n+" "+t),r?e.baseVal=n:this.className=n)}function n(){if(e=this.classList)return e.remove(t);var e=this.className,r=null!=e.baseVal,n=r?e.baseVal:e;n=h(n.replace(i," ")),r?e.baseVal=n:this.className=n}function a(){(e.apply(this,arguments)?r:n).call(this)}var i=new RegExp("(^|\\s+)"+d3.requote(t)+"(\\s+|$)","g");if(arguments.length<2){var o=this.node();if(u=o.classList)return u.contains(t);var u=o.className;return i.lastIndex=0,i.test(null!=u.baseVal?u.baseVal:u)}return this.each("function"==typeof e?a:e?r:n)}function Q(t){return{__data__:t}}function W(t){return function(){return Hn(this,t)}}function J(t){return arguments.length||(t=d3.ascending),function(e,r){return t(e&&e.__data__,r&&r.__data__)}}function K(t){return xn(t,Yn),t}function tt(t,e,n){xn(t,Vn);var a=new r,i=d3.dispatch("start","end"),o=Kn;return t.id=e,t.time=n,t.tween=function(e,r){return arguments.length<2?a.get(e):(null==r?a.remove(e):a.set(e,r),t)},t.ease=function(e){return arguments.length?(o="function"==typeof e?e:d3.ease.apply(d3,arguments),t):o},t.each=function(e,r){return arguments.length<2?nt.call(t,e):(i.on(e,r),t)},d3.timer(function(r){return t.each(function(u,s,c){function l(t){return v.active>e?f():(v.active=e,a.forEach(function(t,e){(e=e.call(d,u,s))&&p.push(e)}),i.start.call(d,u,s),h(t)||d3.timer(h,0,n),1)}function h(t){if(v.active!==e)return f();for(var r=(t-g)/m,n=o(r),a=p.length;a>0;)p[--a].call(d,n);return r>=1?(f(),$n=e,i.end.call(d,u,s),$n=0,1):void 0}function f(){return--v.count||delete d.__transition__,1}var p=[],d=this,g=t[c][s].delay,m=t[c][s].duration,v=d.__transition__||(d.__transition__={active:0,count:0});++v.count,g<=r?l(r):d3.timer(l,g,n)}),1},0,n),t}function et(t,e,r){return""!=r&&Zn}function rt(t,e){function r(t,r,n){var i=e.call(this,t,r);return null==i?""!=n&&Zn:n!=i&&a(n,i)}function n(t,r,n){return n!=e&&a(n,e)}var a=S(t);return"function"==typeof e?r:null==e?et:(e+="",n)}function nt(t){var e=$n,r=Kn,n=Wn,a=Jn;$n=this.id,Kn=this.ease();for(var i=0,o=this.length;i<o;i++)for(var u=this[i],s=0,c=u.length;s<c;s++){var l=u[s];l&&(Wn=this[i][s].delay,Jn=this[i][s].duration,t.call(l=l.node,l.__data__,s,i))}return $n=e,Kn=r,Wn=n,Jn=a,this}function at(){for(var t,e=Date.now(),r=ra;r;)t=e-r.then,t>=r.delay&&(r.flush=r.callback(t)),r=r.next;var n=it()-e;n>24?(isFinite(n)&&(clearTimeout(ea),ea=setTimeout(at,n)),ta=0):(ta=1,na(at))}function it(){for(var t=null,e=ra,r=1/0;e;)e.flush?e=t?t.next=e.next:ra=e.next:(r=Math.min(r,e.then+e.delay),e=(t=e).next);return r}function ot(t){var e=[t.a,t.b],r=[t.c,t.d],n=st(e),a=ut(e,r),i=st(ct(r,e,-a))||0;e[0]*r[1]<r[0]*e[1]&&(e[0]*=-1,e[1]*=-1,n*=-1,a*=-1),this.rotate=(n?Math.atan2(e[1],e[0]):Math.atan2(-r[0],r[1]))*aa,this.translate=[t.e,t.f],this.scale=[n,i],this.skew=i?Math.atan2(a,i)*aa:0}function ut(t,e){return t[0]*e[0]+t[1]*e[1]}function st(t){var e=Math.sqrt(ut(t,t));return e&&(t[0]/=e,t[1]/=e),e}function ct(t,e,r){return t[0]+=r*e[0],t[1]+=r*e[1],t}function lt(t,e){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();if(ia<0&&(window.scrollX||window.scrollY)){r=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var a=r[0][0].getScreenCTM();ia=!a.f&&!a.e,r.remove()}return ia?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function ht(t){var e=t[0],r=t[t.length-1];return e<r?[e,r]:[r,e]}function ft(t){return t.rangeExtent?t.rangeExtent():ht(t.range())}function pt(t,e){var r,n=0,a=t.length-1,i=t[n],o=t[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,
o=r),(r=o-i)&&(e=e(r),t[n]=e.floor(i),t[a]=e.ceil(o)),t}function dt(){return Math}function gt(t,e,r,n){function a(){var a=Math.min(t.length,e.length)>2?_t:xt,s=n?L:k;return o=a(t,e,s,r),u=a(e,t,s,d3.interpolate),i}function i(t){return o(t)}var o,u;return i.invert=function(t){return u(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},i.range=function(t){return arguments.length?(e=t,a()):e},i.rangeRound=function(t){return i.range(t).interpolate(d3.interpolateRound)},i.clamp=function(t){return arguments.length?(n=t,a()):n},i.interpolate=function(t){return arguments.length?(r=t,a()):r},i.ticks=function(e){return bt(t,e)},i.tickFormat=function(e){return wt(t,e)},i.nice=function(){return pt(t,vt),a()},i.copy=function(){return gt(t,e,r,n)},a()}function mt(t,e){return d3.rebind(t,e,"range","rangeRound","interpolate","clamp")}function vt(t){return t=Math.pow(10,Math.round(Math.log(t)/Math.LN10)-1),{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}}function yt(t,e){var r=ht(t),n=r[1]-r[0],a=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),i=e/n*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),r[0]=Math.ceil(r[0]/a)*a,r[1]=Math.floor(r[1]/a)*a+.5*a,r[2]=a,r}function bt(t,e){return d3.range.apply(d3,yt(t,e))}function wt(t,e){return d3.format(",."+Math.max(0,-Math.floor(Math.log(yt(t,e)[2])/Math.LN10+.01))+"f")}function xt(t,e,r,n){var a=r(t[0],t[1]),i=n(e[0],e[1]);return function(t){return i(a(t))}}function _t(t,e,r,n){var a=[],i=[],o=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=u;)a.push(r(t[o-1],t[o])),i.push(n(e[o-1],e[o]));return function(e){var r=d3.bisect(t,e,1,u)-1;return i[r](a[r](e))}}function Mt(t,e){function r(r){return t(e(r))}var n=e.pow;return r.invert=function(e){return n(t.invert(e))},r.domain=function(a){return arguments.length?(e=a[0]<0?jt:Rt,n=e.pow,t.domain(a.map(e)),r):t.domain().map(n)},r.nice=function(){return t.domain(pt(t.domain(),dt)),r},r.ticks=function(){var r=ht(t.domain()),a=[];if(r.every(isFinite)){var i=Math.floor(r[0]),o=Math.ceil(r[1]),u=n(r[0]),s=n(r[1]);if(e===jt)for(a.push(n(i));i++<o;)for(var c=9;c>0;c--)a.push(n(i)*c);else{for(;i<o;i++)for(var c=1;c<10;c++)a.push(n(i)*c);a.push(n(i))}for(i=0;a[i]<u;i++);for(o=a.length;a[o-1]>s;o--);a=a.slice(i,o)}return a},r.tickFormat=function(t,a){if(arguments.length<2&&(a=oa),arguments.length<1)return a;var i,o=t/r.ticks().length,u=e===jt?(i=-1e-12,Math.floor):(i=1e-12,Math.ceil);return function(t){return t/n(u(e(t)+i))<o?a(t):""}},r.copy=function(){return Mt(t.copy(),e)},mt(r,t)}function Rt(t){return Math.log(t<0?0:t)/Math.LN10}function jt(t){return-Math.log(t>0?0:-t)/Math.LN10}function It(t,e){function r(e){return t(n(e))}var n=Et(e),a=Et(1/e);return r.invert=function(e){return a(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e.map(n)),r):t.domain().map(a)},r.ticks=function(t){return bt(r.domain(),t)},r.tickFormat=function(t){return wt(r.domain(),t)},r.nice=function(){return r.domain(pt(r.domain(),vt))},r.exponent=function(t){if(!arguments.length)return e;var i=r.domain();return n=Et(e=t),a=Et(1/e),r.domain(i)},r.copy=function(){return It(t.copy(),e)},mt(r,t)}function Et(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nt(t,e){function n(e){return o[((i.get(e)||i.set(e,t.push(e)))-1)%o.length]}function a(e,r){return d3.range(t.length).map(function(t){return e+r*t})}var i,o,u;return n.domain=function(a){if(!arguments.length)return t;t=[],i=new r;for(var o,u=-1,s=a.length;++u<s;)i.has(o=a[u])||i.set(o,t.push(o));return n[e.t](e.x,e.p)},n.range=function(t){return arguments.length?(o=t,u=0,e={t:"range",x:t},n):o},n.rangePoints=function(r,i){arguments.length<2&&(i=0);var s=r[0],c=r[1],l=(c-s)/(t.length-1+i);return o=a(t.length<2?(s+c)/2:s+l*i/2,l),u=0,e={t:"rangePoints",x:r,p:i},n},n.rangeBands=function(r,i){arguments.length<2&&(i=0);var s=r[1]<r[0],c=r[s-0],l=r[1-s],h=(l-c)/(t.length+i);return o=a(c+h*i,h),s&&o.reverse(),u=h*(1-i),e={t:"rangeBands",x:r,p:i},n},n.rangeRoundBands=function(r,i){arguments.length<2&&(i=0);var s=r[1]<r[0],c=r[s-0],l=r[1-s],h=Math.floor((l-c)/(t.length+i)),f=l-c-(t.length-i)*h;return o=a(c+Math.round(f/2),h),s&&o.reverse(),u=Math.round(h*(1-i)),e={t:"rangeRoundBands",x:r,p:i},n},n.rangeBand=function(){return u},n.rangeExtent=function(){return ht(e.x)},n.copy=function(){return Nt(t,e)},n.domain(t)}function Ft(t,e){function r(){var r=0,i=(t.length,e.length);for(a=[];++r<i;)a[r-1]=d3.quantile(t,r/i);return n}function n(t){return isNaN(t=+t)?NaN:e[d3.bisect(a,t)]}var a;return n.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(d3.ascending),r()):t},n.range=function(t){return arguments.length?(e=t,r()):e},n.quantiles=function(){return a},n.copy=function(){return Ft(t,e)},r()}function At(t,e,r){function n(e){return r[Math.max(0,Math.min(o,Math.floor(i*(e-t))))]}function a(){return i=r.length/(e-t),o=r.length-1,n}var i,o;return n.domain=function(r){return arguments.length?(t=+r[0],e=+r[r.length-1],a()):[t,e]},n.range=function(t){return arguments.length?(r=t,a()):r},n.copy=function(){return At(t,e,r)},a()}function Ut(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=r.map(e),e):t},e.ticks=function(e){return bt(t,e)},e.tickFormat=function(e){return wt(t,e)},e.copy=function(){return Ut(t)},e}function Ct(t){return t.innerRadius}function Tt(t){return t.outerRadius}function St(t){return t.startAngle}function kt(t){return t.endAngle}function Lt(t){function e(e){function i(){l.push("M",s(t(h),c))}for(var u,l=[],h=[],f=-1,p=e.length,d=o(r),g=o(n);++f<p;)a.call(this,u=e[f],f)?h.push([+d.call(this,u,f),+g.call(this,u,f)]):h.length&&(i(),h=[]);return h.length&&i(),l.length?l.join(""):null}var r=Pt,n=Dt,a=i,u=pa,s=Ot,c=.7;return e.x=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(da.has(t+="")||(t=pa),s=da.get(u=t),e):u},e.tension=function(t){return arguments.length?(c=t,e):c},e}function Pt(t){return t[0]}function Dt(t){return t[1]}function Ot(t){for(var e=0,r=t.length,n=t[0],a=[n[0],",",n[1]];++e<r;)a.push("L",(n=t[e])[0],",",n[1]);return a.join("")}function zt(t){for(var e=0,r=t.length,n=t[0],a=[n[0],",",n[1]];++e<r;)a.push("V",(n=t[e])[1],"H",n[0]);return a.join("")}function Ht(t){for(var e=0,r=t.length,n=t[0],a=[n[0],",",n[1]];++e<r;)a.push("H",(n=t[e])[0],"V",n[1]);return a.join("")}function qt(t,e){return t.length<4?Ot(t):t[1]+Yt(t.slice(1,t.length-1),Zt(t,e))}function Xt(t,e){return t.length<3?Ot(t):t[0]+Yt((t.push(t[0]),t),Zt([t[t.length-2]].concat(t,[t[1]]),e))}function Bt(t,e,r){return t.length<3?Ot(t):t[0]+Yt(t,Zt(t,e))}function Yt(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ot(t);var r=t.length!=e.length,n="",a=t[0],i=t[1],o=e[0],u=o,s=1;if(r&&(n+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=t[1],s=2),e.length>1){u=e[1],i=t[s],s++,n+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1];for(var c=2;c<e.length;c++,s++)i=t[s],u=e[c],n+="S"+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1]}if(r){var l=t[s];n+="Q"+(i[0]+2*u[0]/3)+","+(i[1]+2*u[1]/3)+","+l[0]+","+l[1]}return n}function Zt(t,e){for(var r,n=[],a=(1-e)/2,i=t[0],o=t[1],u=1,s=t.length;++u<s;)r=i,i=o,o=t[u],n.push([a*(o[0]-r[0]),a*(o[1]-r[1])]);return n}function Vt(t){if(t.length<3)return Ot(t);var e=1,r=t.length,n=t[0],a=n[0],i=n[1],o=[a,a,a,(n=t[1])[0]],u=[i,i,i,n[1]],s=[a,",",i];for(Jt(s,o,u);++e<r;)n=t[e],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),Jt(s,o,u);for(e=-1;++e<2;)o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),Jt(s,o,u);return s.join("")}function Gt(t){if(t.length<4)return Ot(t);for(var e,r=[],n=-1,a=t.length,i=[0],o=[0];++n<3;)e=t[n],i.push(e[0]),o.push(e[1]);for(r.push(Wt(va,i)+","+Wt(va,o)),--n;++n<a;)e=t[n],i.shift(),i.push(e[0]),o.shift(),o.push(e[1]),Jt(r,i,o);return r.join("")}function $t(t){for(var e,r,n=-1,a=t.length,i=a+4,o=[],u=[];++n<4;)r=t[n%a],o.push(r[0]),u.push(r[1]);for(e=[Wt(va,o),",",Wt(va,u)],--n;++n<i;)r=t[n%a],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Jt(e,o,u);return e.join("")}function Qt(t,e){for(var r,n,a=t.length-1,i=t[0][0],o=t[0][1],u=t[a][0]-i,s=t[a][1]-o,c=-1;++c<=a;)r=t[c],n=c/a,r[0]=e*r[0]+(1-e)*(i+n*u),r[1]=e*r[1]+(1-e)*(o+n*s);return Vt(t)}function Wt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Jt(t,e,r){t.push("C",Wt(ga,e),",",Wt(ga,r),",",Wt(ma,e),",",Wt(ma,r),",",Wt(va,e),",",Wt(va,r))}function Kt(t,e){return(e[1]-t[1])/(e[0]-t[0])}function te(t){for(var e=0,r=t.length-1,n=[],a=t[0],i=t[1],o=n[0]=Kt(a,i);++e<r;)n[e]=o+(o=Kt(a=i,i=t[e+1]));return n[e]=o,n}function ee(t){for(var e,r,n,a,i=[],o=te(t),u=-1,s=t.length-1;++u<s;)e=Kt(t[u],t[u+1]),Math.abs(e)<1e-6?o[u]=o[u+1]=0:(r=o[u]/e,n=o[u+1]/e,(a=r*r+n*n)>9&&(a=3*e/Math.sqrt(a),o[u]=a*r,o[u+1]=a*n));for(u=-1;++u<=s;)a=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),i.push([a||0,o[u]*a||0]);return i}function re(t){return t.length<3?Ot(t):t[0]+Yt(t,ee(t))}function ne(t){for(var e,r,n,a=-1,i=t.length;++a<i;)e=t[a],r=e[0],n=e[1]+ha,e[0]=r*Math.cos(n),e[1]=r*Math.sin(n);return t}function ae(t){function e(e){function i(){m.push("M",l(t(y),p),f,h(t(v.reverse()),p),"Z")}for(var c,d,g,m=[],v=[],y=[],b=-1,w=e.length,x=o(r),_=o(a),M=r===n?function(){return d}:o(n),R=a===u?function(){return g}:o(u);++b<w;)s.call(this,c=e[b],b)?(v.push([d=+x.call(this,c,b),g=+_.call(this,c,b)]),y.push([+M.call(this,c,b),+R.call(this,c,b)])):v.length&&(i(),v=[],y=[]);return v.length&&i(),m.length?m.join(""):null}var r=Pt,n=Pt,a=0,u=Dt,s=i,c=pa,l=Ot,h=Ot,f="L",p=.7;return e.x=function(t){return arguments.length?(r=n=t,e):n},e.x0=function(t){return arguments.length?(r=t,e):r},e.x1=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(a=u=t,e):u},e.y0=function(t){return arguments.length?(a=t,e):a},e.y1=function(t){return arguments.length?(u=t,e):u},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(da.has(t+="")||(t=pa),l=da.get(c=t),h=l.reverse||l,f=/-closed$/.test(t)?"M":"L",e):c},e.tension=function(t){return arguments.length?(p=t,e):p},e}function ie(t){return t.source}function oe(t){return t.target}function ue(t){return t.radius}function se(t){return[t.x,t.y]}function ce(t){return function(){var e=t.apply(this,arguments),r=e[0],n=e[1]+ha;return[r*Math.cos(n),r*Math.sin(n)]}}function le(){return 64}function he(){return"circle"}function fe(t){var e=Math.sqrt(t/Math.PI);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function pe(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function de(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function ge(t,e,r){if(n=[],r&&e.length>1){for(var n,a,i,o=ht(t.domain()),u=-1,s=e.length,c=(e[1]-e[0])/++r;++u<s;)for(a=r;--a>0;)(i=+e[u]-a*c)>=o[0]&&n.push(i);for(--u,a=0;++a<r&&(i=+e[u]+a*c)<o[1];)n.push(i)}return n}function me(){Ma||(Ma=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var t,e=d3.event;try{Ma.scrollTop=1e3,Ma.dispatchEvent(e),t=1e3-Ma.scrollTop}catch(r){t=e.wheelDelta||5*-e.detail}return t}function ve(t){for(var e=t.source,r=t.target,n=be(e,r),a=[e];e!==n;)e=e.parent,a.push(e);for(var i=a.length;r!==n;)a.splice(i,0,r),r=r.parent;return a}function ye(t){for(var e=[],r=t.parent;null!=r;)e.push(t),t=r,r=r.parent;return e.push(t),e}function be(t,e){if(t===e)return t;for(var r=ye(t),n=ye(e),a=r.pop(),i=n.pop(),o=null;a===i;)o=a,a=r.pop(),i=n.pop();return o}function we(t){t.fixed|=2}function xe(t){t!==Ia&&(t.fixed&=1)}function _e(){Ia.fixed&=1,ja=Ia=null}function Me(){Ia.px=d3.event.x,Ia.py=d3.event.y,ja.resume()}function Re(t,e,r){var n=0,a=0;if(t.charge=0,!t.leaf)for(var i,o=t.nodes,u=o.length,s=-1;++s<u;)null!=(i=o[s])&&(Re(i,e,r),t.charge+=i.charge,n+=i.charge*i.cx,a+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*r[t.point.index];t.charge+=t.pointCharge=c,n+=c*t.point.x,a+=c*t.point.y}t.cx=n/t.charge,t.cy=a/t.charge}function je(t){return 20}function Ie(t){return 1}function Ee(t){return t.x}function Ne(t){return t.y}function Fe(t,e,r){t.y0=e,t.y=r}function Ae(t){return d3.range(t.length)}function Ue(t){for(var e=-1,r=t[0].length,n=[];++e<r;)n[e]=0;return n}function Ce(t){for(var e,r=1,n=0,a=t[0][1],i=t.length;r<i;++r)(e=t[r][1])>a&&(n=r,a=e);return n}function Te(t){return t.reduce(Se,0)}function Se(t,e){return t+e[1]}function ke(t,e){return Le(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Le(t,e){for(var r=-1,n=+t[0],a=(t[1]-n)/e,i=[];++r<=e;)i[r]=a*r+n;return i}function Pe(t){return[d3.min(t),d3.max(t)]}function De(t,e){return d3.rebind(t,e,"sort","children","value"),t.links=qe,t.nodes=function(e){return Aa=!0,(t.nodes=t)(e)},t}function Oe(t){return t.children}function ze(t){return t.value}function He(t,e){return e.value-t.value}function qe(t){return d3.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function Xe(t,e){return t.value-e.value}function Be(t,e){var r=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=r,r._pack_prev=e}function Ye(t,e){t._pack_next=e,e._pack_prev=t}function Ze(t,e){var r=e.x-t.x,n=e.y-t.y,a=t.r+e.r;return a*a-r*r-n*n>.001}function Ve(t){function e(t){u=Math.min(t.x-t.r,u),s=Math.max(t.x+t.r,s),c=Math.min(t.y-t.r,c),l=Math.max(t.y+t.r,l)}var r,n,a,i,o,u=1/0,s=-1/0,c=1/0,l=-1/0,h=t.length;if(t.forEach(Ge),r=t[0],r.x=-r.r,r.y=0,e(r),h>1&&(n=t[1],n.x=n.r,n.y=0,e(n),h>2)){a=t[2],Je(r,n,a),e(a),Be(r,a),r._pack_prev=a,Be(a,n),n=r._pack_next;for(var f=3;f<h;f++){Je(r,n,a=t[f]);var p=0,d=1,g=1;for(i=n._pack_next;i!==n;i=i._pack_next,d++)if(Ze(i,a)){p=1;break}if(1==p)for(o=r._pack_prev;o!==i._pack_prev&&!Ze(o,a);o=o._pack_prev,g++);p?(d<g||d==g&&n.r<r.r?Ye(r,n=i):Ye(r=o,n),f--):(Be(r,a),n=a,e(a))}}for(var m=(u+s)/2,v=(c+l)/2,y=0,f=0;f<h;f++){var b=t[f];b.x-=m,b.y-=v,y=Math.max(y,b.r+Math.sqrt(b.x*b.x+b.y*b.y))}return t.forEach($e),y}function Ge(t){t._pack_next=t._pack_prev=t}function $e(t){delete t._pack_next,delete t._pack_prev}function Qe(t){var e=t.children;e&&e.length?(e.forEach(Qe),t.r=Ve(e)):t.r=Math.sqrt(t.value)}function We(t,e,r,n){var a=t.children;if(t.x=e+=n*t.x,t.y=r+=n*t.y,t.r*=n,a)for(var i=-1,o=a.length;++i<o;)We(a[i],e,r,n)}function Je(t,e,r){var n=t.r+r.r,a=e.x-t.x,i=e.y-t.y;if(n&&(a||i)){var o=e.r+r.r,u=Math.sqrt(a*a+i*i),s=Math.max(-1,Math.min(1,(n*n+u*u-o*o)/(2*n*u))),c=Math.acos(s),l=s*(n/=u),h=Math.sin(c)*n;r.x=t.x+l*a+h*i,r.y=t.y+l*i-h*a}else r.x=t.x+n,r.y=t.y}function Ke(t){return 1+d3.max(t,function(t){return t.y})}function tr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function er(t){var e=t.children;return e&&e.length?er(e[0]):t}function rr(t){var e,r=t.children;return r&&(e=r.length)?rr(r[e-1]):t}function nr(t,e){return t.parent==e.parent?1:2}function ar(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function ir(t){var e,r=t.children;return r&&(e=r.length)?r[e-1]:t._tree.thread}function or(t,e){var r=t.children;if(r&&(a=r.length))for(var n,a,i=-1;++i<a;)e(n=or(r[i],e),t)>0&&(t=n);return t}function ur(t,e){return t.x-e.x}function sr(t,e){return e.x-t.x}function cr(t,e){return t.depth-e.depth}function lr(t,e){function r(t,n){var a=t.children;if(a&&(o=a.length))for(var i,o,u=null,s=-1;++s<o;)i=a[s],r(i,u),u=i;e(t,n)}r(t,null)}function hr(t){for(var e,r=0,n=0,a=t.children,i=a.length;--i>=0;)e=a[i]._tree,e.prelim+=r,e.mod+=r,r+=e.shift+(n+=e.change)}function fr(t,e,r){t=t._tree,e=e._tree;var n=r/(e.number-t.number);t.change+=n,e.change-=n,e.shift+=r,e.prelim+=r,e.mod+=r}function pr(t,e,r){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:r}function dr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function gr(t,e){var r=t.x+e[3],n=t.y+e[0],a=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return a<0&&(r+=a/2,a=0),i<0&&(n+=i/2,i=0),{x:r,y:n,dx:a,dy:i}}function mr(t){return t.map(vr).join(",")}function vr(t){return/[",\n]/.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}function yr(t,e){return function(r){return r&&t.hasOwnProperty(r.type)?t[r.type](r):e}}function br(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function wr(t,e){Ca.hasOwnProperty(t.type)&&Ca[t.type](t,e)}function xr(t,e){wr(t.geometry,e)}function _r(t,e){for(var r=t.features,n=0,a=r.length;n<a;n++)wr(r[n].geometry,e)}function Mr(t,e){for(var r=t.geometries,n=0,a=r.length;n<a;n++)wr(r[n],e)}function Rr(t,e){for(var r=t.coordinates,n=0,a=r.length;n<a;n++)e.apply(null,r[n])}function jr(t,e){for(var r=t.coordinates,n=0,a=r.length;n<a;n++)for(var i=r[n],o=0,u=i.length;o<u;o++)e.apply(null,i[o])}function Ir(t,e){for(var r=t.coordinates,n=0,a=r.length;n<a;n++)for(var i=r[n][0],o=0,u=i.length;o<u;o++)e.apply(null,i[o])}function Er(t,e){e.apply(null,t.coordinates)}function Nr(t,e){for(var r=t.coordinates[0],n=0,a=r.length;n<a;n++)e.apply(null,r[n])}function Fr(t){return t.source}function Ar(t){return t.target}function Ur(t,e){function r(t){var e=Math.sin(g-(t*=g))/m,r=Math.sin(t)/m,n=e*u*a+r*p*l,o=e*u*i+r*p*h,c=e*s+r*d;return[Math.atan2(o,n)/Ua,Math.atan2(c,Math.sqrt(n*n+o*o))/Ua]}var n=t[0]*Ua,a=Math.cos(n),i=Math.sin(n),o=t[1]*Ua,u=Math.cos(o),s=Math.sin(o),c=e[0]*Ua,l=Math.cos(c),h=Math.sin(c),f=e[1]*Ua,p=Math.cos(f),d=Math.sin(f),g=r.d=Math.acos(Math.max(-1,Math.min(1,s*d+u*p*Math.cos(c-n)))),m=Math.sin(g);return r}function Cr(t){for(var e=0,r=0;;){if(t(e,r))return[e,r];0===e?(e=r+1,r=0):(e-=1,r+=1)}}function Tr(t,e,r,n){var a,i,o,u,s,c;return a=n[t],i=a[0],o=a[1],a=n[e],u=a[0],s=a[1],a=n[r],c=a[0],(a[1]-o)*(u-i)-(s-o)*(c-i)>0}function Sr(t,e,r){return(r[0]-e[0])*(t[1]-e[1])<(r[1]-e[1])*(t[0]-e[0])}function kr(t,e,r,n){var a=t[0],i=e[0],o=r[0],u=n[0],s=t[1],c=e[1],l=r[1],h=n[1],f=a-o,p=i-a,d=u-o,g=s-l,m=c-s,v=h-l,y=(d*g-v*f)/(v*p-d*m);return[a+y*p,s+y*m]}function Lr(t,e){var r={list:t.map(function(t,e){return{index:e,x:t[0],y:t[1]}}).sort(function(t,e){return t.y<e.y?-1:t.y>e.y?1:t.x<e.x?-1:t.x>e.x?1:0}),bottomSite:null},n={list:[],leftEnd:null,rightEnd:null,init:function(){n.leftEnd=n.createHalfEdge(null,"l"),n.rightEnd=n.createHalfEdge(null,"l"),n.leftEnd.r=n.rightEnd,n.rightEnd.l=n.leftEnd,n.list.unshift(n.leftEnd,n.rightEnd)},createHalfEdge:function(t,e){return{edge:t,side:e,vertex:null,l:null,r:null}},insert:function(t,e){e.l=t,e.r=t.r,t.r.l=e,t.r=e},leftBound:function(t){var e=n.leftEnd;do{e=e.r}while(e!=n.rightEnd&&a.rightOf(e,t));return e=e.l},del:function(t){t.l.r=t.r,t.r.l=t.l,t.edge=null},right:function(t){return t.r},left:function(t){return t.l},leftRegion:function(t){return null==t.edge?r.bottomSite:t.edge.region[t.side]},rightRegion:function(t){return null==t.edge?r.bottomSite:t.edge.region[ka[t.side]]}},a={bisect:function(t,e){var r={region:{l:t,r:e},ep:{l:null,r:null}},n=e.x-t.x,a=e.y-t.y,i=n>0?n:-n,o=a>0?a:-a;return r.c=t.x*n+t.y*a+.5*(n*n+a*a),i>o?(r.a=1,r.b=a/n,r.c/=n):(r.b=1,r.a=n/a,r.c/=a),r},intersect:function(t,e){var r=t.edge,n=e.edge;if(!r||!n||r.region.r==n.region.r)return null;var a=r.a*n.b-r.b*n.a;if(Math.abs(a)<1e-10)return null;var i,o,u=(r.c*n.b-n.c*r.b)/a,s=(n.c*r.a-r.c*n.a)/a,c=r.region.r,l=n.region.r;c.y<l.y||c.y==l.y&&c.x<l.x?(i=t,o=r):(i=e,o=n);var h=u>=o.region.r.x;return h&&"l"===i.side||!h&&"r"===i.side?null:{x:u,y:s}},rightOf:function(t,e){var r=t.edge,n=r.region.r,a=e.x>n.x;if(a&&"l"===t.side)return 1;if(!a&&"r"===t.side)return 0;if(1===r.a){var i=e.y-n.y,o=e.x-n.x,u=0,s=0;if(!a&&r.b<0||a&&r.b>=0?s=u=i>=r.b*o:(s=e.x+e.y*r.b>r.c,r.b<0&&(s=!s),s||(u=1)),!u){var c=n.x-r.region.l.x;s=r.b*(o*o-i*i)<c*i*(1+2*o/c+r.b*r.b),r.b<0&&(s=!s)}}else{var l=r.c-r.a*e.x,h=e.y-l,f=e.x-n.x,p=l-n.y;s=h*h>f*f+p*p}return"l"===t.side?s:!s},endPoint:function(t,r,n){t.ep[r]=n,t.ep[ka[r]]&&e(t)},distance:function(t,e){var r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}},i={list:[],insert:function(t,e,r){t.vertex=e,t.ystar=e.y+r;for(var n=0,a=i.list,o=a.length;n<o;n++){var u=a[n];if(!(t.ystar>u.ystar||t.ystar==u.ystar&&e.x>u.vertex.x))break}a.splice(n,0,t)},del:function(t){for(var e=0,r=i.list,n=r.length;e<n&&r[e]!=t;++e);r.splice(e,1)},empty:function(){return 0===i.list.length},nextEvent:function(t){for(var e=0,r=i.list,n=r.length;e<n;++e)if(r[e]==t)return r[e+1];return null},min:function(){var t=i.list[0];return{x:t.vertex.x,y:t.ystar}},extractMin:function(){return i.list.shift()}};n.init(),r.bottomSite=r.list.shift();for(var o,u,s,c,l,h,f,p,d,g,m,v,y,b=r.list.shift();;)if(i.empty()||(o=i.min()),b&&(i.empty()||b.y<o.y||b.y==o.y&&b.x<o.x))u=n.leftBound(b),s=n.right(u),f=n.rightRegion(u),v=a.bisect(f,b),h=n.createHalfEdge(v,"l"),n.insert(u,h),g=a.intersect(u,h),g&&(i.del(u),i.insert(u,g,a.distance(g,b))),u=h,h=n.createHalfEdge(v,"r"),n.insert(u,h),g=a.intersect(h,s),g&&i.insert(h,g,a.distance(g,b)),b=r.list.shift();else{if(i.empty())break;u=i.extractMin(),c=n.left(u),s=n.right(u),l=n.right(s),f=n.leftRegion(u),p=n.rightRegion(s),m=u.vertex,a.endPoint(u.edge,u.side,m),a.endPoint(s.edge,s.side,m),n.del(u),i.del(s),n.del(s),y="l",f.y>p.y&&(d=f,f=p,p=d,y="r"),v=a.bisect(f,p),h=n.createHalfEdge(v,y),n.insert(c,h),a.endPoint(v,ka[y],m),g=a.intersect(c,h),g&&(i.del(c),i.insert(c,g,a.distance(g,f))),(g=a.intersect(h,l))&&i.insert(h,g,a.distance(g,f))}for(u=n.right(n.leftEnd);u!=n.rightEnd;u=n.right(u))e(u.edge)}function Pr(){return{leaf:!0,nodes:[],point:null}}function Dr(t,e,r,n,a,i){if(!t(e,r,n,a,i)){var o=.5*(r+a),u=.5*(n+i),s=e.nodes;s[0]&&Dr(t,s[0],r,n,o,u),s[1]&&Dr(t,s[1],o,n,a,u),s[2]&&Dr(t,s[2],r,u,o,i),s[3]&&Dr(t,s[3],o,u,a,i)}}function Or(t){return{x:t[0],y:t[1]}}function zr(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Hr(t,e,r,n){for(var a,i,o=0,u=e.length,s=r.length;o<u;){if(n>=s)return-1;if(37==(a=e.charCodeAt(o++))){if(!(i=Xa[e.charAt(o++)])||(n=i(t,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}function qr(t,e,r){return Ba.test(e.substring(r,r+=3))?r:-1}function Xr(t,e,r){Ya.lastIndex=0;var n=Ya.exec(e.substring(r,r+10));return n?r+=n[0].length:-1}function Br(t,e,r){var n=Va.get(e.substring(r,r+=3).toLowerCase());return null==n?-1:(t.m=n,r)}function Yr(t,e,r){Ga.lastIndex=0;var n=Ga.exec(e.substring(r,r+12));return n?(t.m=$a.get(n[0].toLowerCase()),r+=n[0].length):-1}function Zr(t,e,r){return Hr(t,qa.c.toString(),e,r)}function Vr(t,e,r){return Hr(t,qa.x.toString(),e,r)}function Gr(t,e,r){return Hr(t,qa.X.toString(),e,r)}function $r(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+4));return n?(t.y=+n[0],r+=n[0].length):-1}function Qr(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+2));return n?(t.y=Wr()+ +n[0],r+=n[0].length):-1}function Wr(){return 1e3*~~((new Date).getFullYear()/1e3)}function Jr(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+2));return n?(t.m=n[0]-1,r+=n[0].length):-1}function Kr(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+2));return n?(t.d=+n[0],r+=n[0].length):-1}function tn(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+2));return n?(t.H=+n[0],r+=n[0].length):-1}function en(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+2));return n?(t.M=+n[0],r+=n[0].length):-1}function rn(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+2));return n?(t.S=+n[0],r+=n[0].length):-1}function nn(t,e,r){Wa.lastIndex=0;var n=Wa.exec(e.substring(r,r+3));return n?(t.L=+n[0],r+=n[0].length):-1}function an(t,e,r){var n=Ja.get(e.substring(r,r+=2).toLowerCase());return null==n?-1:(t.p=n,r)}function on(t){var e=t.getTimezoneOffset(),r=e>0?"-":"+",n=~~(Math.abs(e)/60),a=Math.abs(e)%60;return r+Da(n)+Da(a)}function un(t){return t.toISOString()}function sn(t,e,r){function n(e){var r=t(e),n=i(r,1);return e-r<n-e?r:n}function a(r){return e(r=t(new La(r-1)),1),r}function i(t,r){return e(t=new La(+t),r),t}function o(t,n,i){var o=a(t),u=[];if(i>1)for(;o<n;)r(o)%i||u.push(new Date(+o)),e(o,1);else for(;o<n;)u.push(new Date(+o)),e(o,1);return u}function u(t,e,r){try{La=zr;var n=new zr;return n._=t,o(n,e,r)}finally{La=Date}}t.floor=t,t.round=n,t.ceil=a,t.offset=i,t.range=o;var s=t.utc=cn(t);return s.floor=s,s.round=cn(n),s.ceil=cn(a),s.offset=cn(i),s.range=u,t}function cn(t){return function(e,r){try{La=zr;var n=new zr;return n._=e,t(n,r)._}finally{La=Date}}}function ln(t,e,r){function n(e){return t(e)}return n.invert=function(e){return fn(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(fn)},n.nice=function(t){var e=hn(n.domain());return n.domain([t.floor(e[0]),t.ceil(e[1])])},n.ticks=function(r,a){var i=hn(n.domain());if("function"!=typeof r){var o=i[1]-i[0],u=o/r,s=d3.bisect(ti,u);if(s==ti.length)return e.year(i,r);if(!s)return t.ticks(r).map(fn);Math.log(u/ti[s-1])<Math.log(ti[s]/u)&&--s,r=e[s],a=r[1],r=r[0].range}return r(i[0],new Date(+i[1]+1),a)},n.tickFormat=function(){return r},n.copy=function(){return ln(t.copy(),e,r)},d3.rebind(n,t,"range","rangeRound","interpolate","clamp")}function hn(t){var e=t[0],r=t[t.length-1];return e<r?[e,r]:[r,e]}function fn(t){return new Date(t)}function pn(t){return function(e){for(var r=t.length-1,n=t[r];!n[1](e);)n=t[--r];return n[0](e)}}function dn(t){var e=new Date(t,0,1);return e.setFullYear(t),e}function gn(t){var e=t.getFullYear(),r=dn(e);return e+(t-r)/(dn(e+1)-r)}function mn(t){var e=new Date(Date.UTC(t,0,1));return e.setUTCFullYear(t),e}function vn(t){var e=t.getUTCFullYear(),r=mn(e);return e+(t-r)/(mn(e+1)-r)}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(t){var yn=CSSStyleDeclaration.prototype,bn=yn.setProperty;yn.setProperty=function(t,e,r){bn.call(this,t,e+"",r)}}d3={version:"2.9.1"};var wn=e;try{wn(document.documentElement.childNodes)[0].nodeType}catch(e){wn=t}var xn=[].__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)t[r]=e[r]};d3.map=function(t){var e=new r;for(var n in t)e.set(n,t[n]);return e},function(t,e){try{for(var r in e)Object.defineProperty(t.prototype,r,{value:e[r],enumerable:!1})}catch(r){t.prototype=e}}(r,{has:function(t){return _n+t in this},get:function(t){return this[_n+t]},set:function(t,e){return this[_n+t]=e},remove:function(t){return(t=_n+t)in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t},entries:function(){var t=[];return this.forEach(function(e,r){t.push({key:e,value:r})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===Mn&&t.call(this,e.substring(1),this[e])}});var _n="\0",Mn=_n.charCodeAt(0);d3.functor=o,d3.rebind=function(t,e){for(var r,n=1,a=arguments.length;++n<a;)t[r=arguments[n]]=u(t,e,e[r]);return t},d3.ascending=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},d3.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},d3.mean=function(t,e){var r,n=t.length,a=0,i=-1,o=0;if(1===arguments.length)for(;++i<n;)s(r=t[i])&&(a+=(r-a)/++o);else for(;++i<n;)s(r=e.call(t,t[i],i))&&(a+=(r-a)/++o);return o?a:void 0},d3.median=function(t,e){return arguments.length>1&&(t=t.map(e)),t=t.filter(s),t.length?d3.quantile(t.sort(d3.ascending),.5):void 0},d3.min=function(t,e){var r,n,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&(null==(r=t[a])||r!=r);)r=void 0;for(;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else{for(;++a<i&&(null==(r=e.call(t,t[a],a))||r!=r);)r=void 0;for(;++a<i;)null!=(n=e.call(t,t[a],a))&&r>n&&(r=n)}return r},d3.max=function(t,e){var r,n,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&(null==(r=t[a])||r!=r);)r=void 0;for(;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else{for(;++a<i&&(null==(r=e.call(t,t[a],a))||r!=r);)r=void 0;for(;++a<i;)null!=(n=e.call(t,t[a],a))&&n>r&&(r=n)}return r},d3.extent=function(t,e){var r,n,a,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&(null==(r=a=t[i])||r!=r);)r=a=void 0;for(;++i<o;)null!=(n=t[i])&&(r>n&&(r=n),a<n&&(a=n))}else{for(;++i<o&&(null==(r=a=e.call(t,t[i],i))||r!=r);)r=void 0;for(;++i<o;)null!=(n=e.call(t,t[i],i))&&(r>n&&(r=n),a<n&&(a=n))}return[r,a]},d3.random={normal:function(t,e){return arguments.length<2&&(e=1),arguments.length<1&&(t=0),function(){var r,n,a;do{r=2*Math.random()-1,n=2*Math.random()-1,a=r*r+n*n}while(!a||a>1);return t+e*r*Math.sqrt(-2*Math.log(a)/a)}}},d3.sum=function(t,e){var r,n=0,a=t.length,i=-1;if(1===arguments.length)for(;++i<a;)isNaN(r=+t[i])||(n+=r);else for(;++i<a;)isNaN(r=+e.call(t,t[i],i))||(n+=r);return n},d3.quantile=function(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),a=t[n-1],i=r-n;return i?a+i*(t[n]-a):a},d3.transpose=function(t){return d3.zip.apply(d3,t)},d3.zip=function(){if(!(n=arguments.length))return[];for(var t=-1,e=d3.min(arguments,c),r=new Array(e);++t<e;)for(var n,a=-1,i=r[t]=new Array(n);++a<n;)i[a]=arguments[a][t];return r},d3.bisector=function(t){return{left:function(e,r,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=e.length);n<a;){var i=n+a>>1;t.call(e,e[i],i)<r?n=i+1:a=i}return n},right:function(e,r,n,a){for(arguments.length<3&&(n=0),arguments.length<4&&(a=e.length);n<a;){var i=n+a>>1;r<t.call(e,e[i],i)?a=i:n=i+1}return n}}};var Rn=d3.bisector(function(t){return t});d3.bisectLeft=Rn.left,d3.bisect=d3.bisectRight=Rn.right,d3.first=function(t,e){var r,n=0,a=t.length,i=t[0];for(1===arguments.length&&(e=d3.ascending);++n<a;)e.call(t,i,r=t[n])>0&&(i=r);return i},d3.last=function(t,e){var r,n=0,a=t.length,i=t[0];for(1===arguments.length&&(e=d3.ascending);++n<a;)e.call(t,i,r=t[n])<=0&&(i=r);return i},d3.nest=function(){function t(e,u){if(u>=o.length)return a?a.call(i,e):n?e.sort(n):e;for(var s,c,l,h=-1,f=e.length,p=o[u++],d=new r,g={};++h<f;)(l=d.get(s=p(c=e[h])))?l.push(c):d.set(s,[c]);return d.forEach(function(e){g[e]=t(d.get(e),u)}),g}function e(t,r){if(r>=o.length)return t;var n,a=[],i=u[r++];for(n in t)a.push({key:n,values:e(t[n],r)});return i&&a.sort(function(t,e){return i(t.key,e.key)}),a}var n,a,i={},o=[],u=[];return i.map=function(e){return t(e,0)},i.entries=function(r){return e(t(r,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return u[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return a=t,i},i},d3.keys=function(t){var e=[];for(var r in t)e.push(r);return e},d3.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},d3.entries=function(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e},d3.permute=function(t,e){for(var r=[],n=-1,a=e.length;++n<a;)r[n]=t[e[n]];return r},d3.merge=function(t){return Array.prototype.concat.apply([],t)},d3.split=function(t,e){var r,n=[],a=[],i=-1,o=t.length;for(arguments.length<2&&(e=l);++i<o;)e.call(a,r=t[i],i)?a=[]:(a.length||n.push(a),a.push(r));return n},d3.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r==1/0)throw new Error("infinite range");var n,a=[],i=f(Math.abs(r)),o=-1;if(t*=i,e*=i,r*=i,r<0)for(;(n=t+r*++o)>e;)a.push(n/i);else for(;(n=t+r*++o)<e;)a.push(n/i);return a},d3.requote=function(t){return t.replace(jn,"\\$&")};var jn=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},d3.xhr=function(t,e,r){var n=new XMLHttpRequest;arguments.length<3?(r=e,e=null):e&&n.overrideMimeType&&n.overrideMimeType(e),n.open("GET",t,!0),e&&n.setRequestHeader("Accept",e),n.onreadystatechange=function(){if(4===n.readyState){var t=n.status;r(t>=200&&t<300||304===t?n:null)}},n.send(null)},d3.text=function(t,e,r){function n(t){r(t&&t.responseText)}arguments.length<3&&(r=e,e=null),d3.xhr(t,e,n)},d3.json=function(t,e){d3.text(t,"application/json",function(t){e(t?JSON.parse(t):null)})},d3.html=function(t,e){d3.text(t,"text/html",function(t){if(null!=t){var r=document.createRange();r.selectNode(document.body),t=r.createContextualFragment(t)}e(t)})},d3.xml=function(t,e,r){function n(t){r(t&&t.responseXML)}arguments.length<3&&(r=e,e=null),d3.xhr(t,e,n)};var In={
svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:In,qualify:function(t){var e=t.indexOf(":"),r=t;return e>=0&&(r=t.substring(0,e),t=t.substring(e+1)),In.hasOwnProperty(r)?{space:In[r],local:t}:t}},d3.dispatch=function(){for(var t=new p,e=-1,r=arguments.length;++e<r;)t[arguments[e]]=g(t);return t},p.prototype.on=function(t,e){var r=t.indexOf("."),n="";return r>0&&(n=t.substring(r+1),t=t.substring(0,r)),arguments.length<2?this[t].on(n):this[t].on(n,e)},d3.format=function(t){var e=En.exec(t),r=e[1]||" ",n=e[3]||"",a=e[5],i=+e[6],o=e[7],u=e[8],s=e[9],c=1,l="",h=!1;switch(u&&(u=+u.substring(1)),a&&(r="0",o&&(i-=Math.floor((i-1)/4))),s){case"n":o=!0,s="g";break;case"%":c=100,l="%",s="f";break;case"p":c=100,l="%",s="r";break;case"d":h=!0,u=0;break;case"s":c=-1,s="r"}return"r"==s&&!u&&(s="g"),s=Nn.get(s)||v,function(t){if(h&&t%1)return"";var e=t<0&&(t=-t)?"−":n;if(c<0){var f=d3.formatPrefix(t,u);t*=f.scale,l=f.symbol}else t*=c;if(t=s(t,u),a){var p=t.length+e.length;p<i&&(t=new Array(i-p+1).join(r)+t),o&&(t=y(t)),t=e+t}else{o&&(t=y(t)),t=e+t;var p=t.length;p<i&&(t=new Array(i-p+1).join(r)+t)}return t+l}};var En=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,Nn=d3.map({g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return d3.round(t,e=m(t,e)).toFixed(Math.max(0,Math.min(20,e)))}}),Fn=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(b);d3.formatPrefix=function(t,e){var r=0;return t&&(t<0&&(t*=-1),e&&(t=d3.round(t,m(t,e))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r<=0?r+1:r-1)/3)))),Fn[8+r/3]};var An=R(2),Un=R(3),Cn=function(){return M},Tn=d3.map({linear:Cn,poly:R,quad:function(){return An},cubic:function(){return Un},sin:function(){return j},exp:function(){return I},circle:function(){return E},elastic:N,back:F,bounce:function(){return A}}),Sn=d3.map({in:M,out:x,"in-out":_,"out-in":function(t){return _(x(t))}});d3.ease=function(t){var e=t.indexOf("-"),r=e>=0?t.substring(0,e):t,n=e>=0?t.substring(e+1):"in";return r=Tn.get(r)||Cn,n=Sn.get(n)||M,w(n(r.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.interpolate=function(t,e){for(var r,n=d3.interpolators.length;--n>=0&&!(r=d3.interpolators[n](t,e)););return r},d3.interpolateNumber=function(t,e){return e-=t,function(r){return t+e*r}},d3.interpolateRound=function(t,e){return e-=t,function(r){return Math.round(t+e*r)}},d3.interpolateString=function(t,e){var r,n,a,i,o,u=0,s=[],c=[];for(kn.lastIndex=0,n=0;r=kn.exec(e);++n)r.index&&s.push(e.substring(u,r.index)),c.push({i:s.length,x:r[0]}),s.push(null),u=kn.lastIndex;for(u<e.length&&s.push(e.substring(u)),n=0,i=c.length;(r=kn.exec(t))&&n<i;++n)if(o=c[n],o.x==r[0]){if(o.i)if(null==s[o.i+1])for(s[o.i-1]+=o.x,s.splice(o.i,1),a=n+1;a<i;++a)c[a].i--;else for(s[o.i-1]+=o.x+s[o.i+1],s.splice(o.i,2),a=n+1;a<i;++a)c[a].i-=2;else if(null==s[o.i+1])s[o.i]=o.x;else for(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1),a=n+1;a<i;++a)c[a].i--;c.splice(n,1),i--,n--}else o.x=d3.interpolateNumber(parseFloat(r[0]),parseFloat(o.x));for(;n<i;)o=c.pop(),null==s[o.i+1]?s[o.i]=o.x:(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1)),i--;return 1===s.length?null==s[0]?c[0].x:function(){return e}:function(t){for(n=0;n<i;++n)s[(o=c[n]).i]=o.x(t);return s.join("")}},d3.interpolateTransform=function(t,e){var r,n=[],a=[],i=d3.transform(t),o=d3.transform(e),u=i.translate,s=o.translate,c=i.rotate,l=o.rotate,h=i.skew,f=o.skew,p=i.scale,d=o.scale;return u[0]!=s[0]||u[1]!=s[1]?(n.push("translate(",null,",",null,")"),a.push({i:1,x:d3.interpolateNumber(u[0],s[0])},{i:3,x:d3.interpolateNumber(u[1],s[1])})):s[0]||s[1]?n.push("translate("+s+")"):n.push(""),c!=l?a.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(c,l)}):l&&n.push(n.pop()+"rotate("+l+")"),h!=f?a.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(h,f)}):f&&n.push(n.pop()+"skewX("+f+")"),p[0]!=d[0]||p[1]!=d[1]?(r=n.push(n.pop()+"scale(",null,",",null,")"),a.push({i:r-4,x:d3.interpolateNumber(p[0],d[0])},{i:r-2,x:d3.interpolateNumber(p[1],d[1])})):(1!=d[0]||1!=d[1])&&n.push(n.pop()+"scale("+d+")"),r=a.length,function(t){for(var e,i=-1;++i<r;)n[(e=a[i]).i]=e.x(t);return n.join("")}},d3.interpolateRgb=function(t,e){t=d3.rgb(t),e=d3.rgb(e);var r=t.r,n=t.g,a=t.b,i=e.r-r,o=e.g-n,u=e.b-a;return function(t){return"#"+O(Math.round(r+i*t))+O(Math.round(n+o*t))+O(Math.round(a+u*t))}},d3.interpolateHsl=function(t,e){t=d3.hsl(t),e=d3.hsl(e);var r=t.h,n=t.s,a=t.l,i=e.h-r,o=e.s-n,u=e.l-a;return function(t){return Y(r+i*t,n+o*t,a+u*t).toString()}},d3.interpolateArray=function(t,e){var r,n=[],a=[],i=t.length,o=e.length,u=Math.min(t.length,e.length);for(r=0;r<u;++r)n.push(d3.interpolate(t[r],e[r]));for(;r<i;++r)a[r]=t[r];for(;r<o;++r)a[r]=e[r];return function(t){for(r=0;r<u;++r)a[r]=n[r](t);return a}},d3.interpolateObject=function(t,e){var r,n={},a={};for(r in t)r in e?n[r]=S(r)(t[r],e[r]):a[r]=t[r];for(r in e)r in t||(a[r]=e[r]);return function(t){for(r in n)a[r]=n[r](t);return a}};var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(t,e){return e instanceof Array&&d3.interpolateArray(t,e)},function(t,e){return("string"==typeof t||"string"==typeof e)&&d3.interpolateString(t+"",e+"")},function(t,e){return("string"==typeof e?Ln.has(e)||/^(#|rgb\(|hsl\()/.test(e):e instanceof D||e instanceof B)&&d3.interpolateRgb(t,e)},function(t,e){return!isNaN(t=+t)&&!isNaN(e=+e)&&d3.interpolateNumber(t,e)}],d3.rgb=function(t,e,r){return 1===arguments.length?t instanceof D?P(t.r,t.g,t.b):z(""+t,P,Y):P(~~t,~~e,~~r)},D.prototype.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,r=this.g,n=this.b,a=30;return e||r||n?(e&&e<a&&(e=a),r&&r<a&&(r=a),n&&n<a&&(n=a),P(Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(r/t)),Math.min(255,Math.floor(n/t)))):P(a,a,a)},D.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),P(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},D.prototype.hsl=function(){return H(this.r,this.g,this.b)},D.prototype.toString=function(){return"#"+O(this.r)+O(this.g)+O(this.b)};var Ln=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});Ln.forEach(function(t,e){Ln.set(t,z(e,P,Y))}),d3.hsl=function(t,e,r){return 1===arguments.length?t instanceof B?X(t.h,t.s,t.l):z(""+t,H,X):X(+t,+e,+r)},B.prototype.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),X(this.h,this.s,this.l/t)},B.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),X(this.h,this.s,t*this.l)},B.prototype.rgb=function(){return Y(this.h,this.s,this.l)},B.prototype.toString=function(){return this.rgb().toString()};var Pn=function(t,e){return e.querySelector(t)},Dn=function(t,e){return e.querySelectorAll(t)},On=document.documentElement,zn=On.matchesSelector||On.webkitMatchesSelector||On.mozMatchesSelector||On.msMatchesSelector||On.oMatchesSelector,Hn=function(t,e){return zn.call(t,e)};"function"==typeof Sizzle&&(Pn=function(t,e){return Sizzle(t,e)[0]},Dn=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},Hn=Sizzle.matchesSelector);var qn=[];d3.selection=function(){return Bn},d3.selection.prototype=qn,qn.select=function(t){var e,r,n,a,i=[];"function"!=typeof t&&(t=V(t));for(var o=-1,u=this.length;++o<u;){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=-1,c=n.length;++s<c;)(a=n[s])?(e.push(r=t.call(a,a.__data__,s)),r&&"__data__"in a&&(r.__data__=a.__data__)):e.push(null)}return Z(i)},qn.selectAll=function(t){var e,r,n=[];"function"!=typeof t&&(t=G(t));for(var a=-1,i=this.length;++a<i;)for(var o=this[a],u=-1,s=o.length;++u<s;)(r=o[u])&&(n.push(e=wn(t.call(r,r.__data__,u))),e.parentNode=r);return Z(n)},qn.attr=function(t,e){function r(){this.removeAttribute(t)}function n(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function o(){var r=e.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}function u(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}if(t=d3.ns.qualify(t),arguments.length<2){var s=this.node();return t.local?s.getAttributeNS(t.space,t.local):s.getAttribute(t)}return this.each(null==e?t.local?n:r:"function"==typeof e?t.local?u:o:t.local?i:a)},qn.classed=function(t,e){var r=t.split(Xn),n=r.length,a=-1;if(arguments.length>1){for(;++a<n;)$.call(this,r[a],e);return this}for(;++a<n;)if(!$.call(this,r[a]))return!1;return!0};var Xn=/\s+/g;qn.style=function(t,e,r){function n(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,e,r)}function i(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}return arguments.length<3&&(r=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(t):this.each(null==e?n:"function"==typeof e?i:a)},qn.property=function(t,e){function r(){delete this[t]}function n(){this[t]=e}function a(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}return arguments.length<2?this.node()[t]:this.each(null==e?r:"function"==typeof e?a:n)},qn.text=function(t){return arguments.length<1?this.node().textContent:this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t})},qn.html=function(t){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t})},qn.append=function(t){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,t))}function r(){return this.appendChild(document.createElementNS(t.space,t.local))}return t=d3.ns.qualify(t),this.select(t.local?r:e)},qn.insert=function(t,e){function r(){return this.insertBefore(document.createElementNS(this.namespaceURI,t),Pn(e,this))}function n(){return this.insertBefore(document.createElementNS(t.space,t.local),Pn(e,this))}return t=d3.ns.qualify(t),this.select(t.local?n:r)},qn.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},qn.data=function(t,e){function n(t,n){var a,i,o,u=t.length,h=n.length,f=Math.min(u,h),p=Math.max(u,h),d=[],g=[],m=[];if(e){var v,y=new r,b=[],w=n.length;for(a=-1;++a<u;)v=e.call(i=t[a],i.__data__,a),y.has(v)?m[w++]=i:y.set(v,i),b.push(v);for(a=-1;++a<h;)v=e.call(n,o=n[a],a),y.has(v)?(d[a]=i=y.get(v),i.__data__=o,g[a]=m[a]=null):(g[a]=Q(o),d[a]=m[a]=null),y.remove(v);for(a=-1;++a<u;)y.has(b[a])&&(m[a]=t[a])}else{for(a=-1;++a<f;)i=t[a],o=n[a],i?(i.__data__=o,d[a]=i,g[a]=m[a]=null):(g[a]=Q(o),d[a]=m[a]=null);for(;a<h;++a)g[a]=Q(n[a]),d[a]=m[a]=null;for(;a<p;++a)m[a]=t[a],g[a]=d[a]=null}g.update=d,g.parentNode=d.parentNode=m.parentNode=t.parentNode,s.push(g),c.push(d),l.push(m)}var a,i,o=-1,u=this.length;if(!arguments.length){for(t=new Array(u=(a=this[0]).length);++o<u;)(i=a[o])&&(t[o]=i.__data__);return t}var s=K([]),c=Z([]),l=Z([]);if("function"==typeof t)for(;++o<u;)n(a=this[o],t.call(a,a.parentNode.__data__,o));else for(;++o<u;)n(a=this[o],t);return c.enter=function(){return s},c.exit=function(){return l},c},qn.datum=qn.map=function(t){return arguments.length<1?this.property("__data__"):this.property("__data__",t)},qn.filter=function(t){var e,r,n,a=[];"function"!=typeof t&&(t=W(t));for(var i=0,o=this.length;i<o;i++){a.push(e=[]),e.parentNode=(r=this[i]).parentNode;for(var u=0,s=r.length;u<s;u++)(n=r[u])&&t.call(n,n.__data__,u)&&e.push(n)}return Z(a)},qn.order=function(){for(var t=-1,e=this.length;++t<e;)for(var r,n=this[t],a=n.length-1,i=n[a];--a>=0;)(r=n[a])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},qn.sort=function(t){t=J.apply(this,arguments);for(var e=-1,r=this.length;++e<r;)this[e].sort(t);return this.order()},qn.on=function(t,e,r){arguments.length<3&&(r=!1);var n="__on"+t,a=t.indexOf(".");return a>0&&(t=t.substring(0,a)),arguments.length<2?(a=this.node()[n])&&a._:this.each(function(a,i){function o(t){var r=d3.event;d3.event=t;try{e.call(u,u.__data__,i)}finally{d3.event=r}}var u=this,s=u[n];s&&(u.removeEventListener(t,s,s.$),delete u[n]),e&&(u.addEventListener(t,u[n]=o,o.$=r),o._=e)})},qn.each=function(t){for(var e=-1,r=this.length;++e<r;)for(var n=this[e],a=-1,i=n.length;++a<i;){var o=n[a];o&&t.call(o,o.__data__,a,e)}return this},qn.call=function(t){return t.apply(this,(arguments[0]=this,arguments)),this},qn.empty=function(){return!this.node()},qn.node=function(t){for(var e=0,r=this.length;e<r;e++)for(var n=this[e],a=0,i=n.length;a<i;a++){var o=n[a];if(o)return o}return null},qn.transition=function(){for(var t,e,r=[],n=-1,a=this.length;++n<a;){r.push(t=[]);for(var i=this[n],o=-1,u=i.length;++o<u;)t.push((e=i[o])?{node:e,delay:Wn,duration:Jn}:null)}return tt(r,$n||++Gn,Date.now())};var Bn=Z([[document]]);Bn[0].parentNode=On,d3.select=function(t){return"string"==typeof t?Bn.select(t):Z([[t]])},d3.selectAll=function(t){return"string"==typeof t?Bn.selectAll(t):Z([wn(t)])};var Yn=[];d3.selection.enter=K,d3.selection.enter.prototype=Yn,Yn.append=qn.append,Yn.insert=qn.insert,Yn.empty=qn.empty,Yn.node=qn.node,Yn.select=function(t){for(var e,r,n,a,i,o=[],u=-1,s=this.length;++u<s;){n=(a=this[u]).update,o.push(e=[]),e.parentNode=a.parentNode;for(var c=-1,l=a.length;++c<l;)(i=a[c])?(e.push(n[c]=r=t.call(a.parentNode,i.__data__,c)),r.__data__=i.__data__):e.push(null)}return Z(o)};var Zn={},Vn=[],Gn=0,$n=0,Qn=d3.ease("cubic-in-out"),Wn=0,Jn=250,Kn=Qn;Vn.call=qn.call,d3.transition=function(t){return arguments.length?$n?t.transition():t:Bn.transition()},d3.transition.prototype=Vn,Vn.select=function(t){var e,r,n,a=[];"function"!=typeof t&&(t=V(t));for(var i=-1,o=this.length;++i<o;){a.push(e=[]);for(var u=this[i],s=-1,c=u.length;++s<c;)(n=u[s])&&(r=t.call(n.node,n.node.__data__,s))?("__data__"in n.node&&(r.__data__=n.node.__data__),e.push({node:r,delay:n.delay,duration:n.duration})):e.push(null)}return tt(a,this.id,this.time).ease(this.ease())},Vn.selectAll=function(t){var e,r,n,a=[];"function"!=typeof t&&(t=G(t));for(var i=-1,o=this.length;++i<o;)for(var u=this[i],s=-1,c=u.length;++s<c;)if(n=u[s]){r=t.call(n.node,n.node.__data__,s),a.push(e=[]);for(var l=-1,h=r.length;++l<h;)e.push({node:r[l],delay:n.delay,duration:n.duration})}return tt(a,this.id,this.time).ease(this.ease())},Vn.attr=function(t,e){return this.attrTween(t,rt(t,e))},Vn.attrTween=function(t,e){function r(t,r){var n=e.call(this,t,r,this.getAttribute(a));return n===Zn?(this.removeAttribute(a),null):n&&function(t){this.setAttribute(a,n(t))}}function n(t,r){var n=e.call(this,t,r,this.getAttributeNS(a.space,a.local));return n===Zn?(this.removeAttributeNS(a.space,a.local),null):n&&function(t){this.setAttributeNS(a.space,a.local,n(t))}}var a=d3.ns.qualify(t);return this.tween("attr."+t,a.local?n:r)},Vn.style=function(t,e,r){return arguments.length<3&&(r=""),this.styleTween(t,rt(t,e),r)},Vn.styleTween=function(t,e,r){return arguments.length<3&&(r=""),this.tween("style."+t,function(n,a){var i=e.call(this,n,a,window.getComputedStyle(this,null).getPropertyValue(t));return i===Zn?(this.style.removeProperty(t),null):i&&function(e){this.style.setProperty(t,i(e),r)}})},Vn.text=function(t){return this.tween("text",function(e,r){this.textContent="function"==typeof t?t.call(this,e,r):t})},Vn.remove=function(){return this.each("end.transition",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},Vn.delay=function(t){var e=this;return e.each("function"==typeof t?function(r,n,a){e[a][n].delay=0|t.apply(this,arguments)}:(t|=0,function(r,n,a){e[a][n].delay=t}))},Vn.duration=function(t){var e=this;return e.each("function"==typeof t?function(r,n,a){e[a][n].duration=Math.max(1,0|t.apply(this,arguments))}:(t=Math.max(1,0|t),function(r,n,a){e[a][n].duration=t}))},Vn.transition=function(){return this.select(a)};var ta,ea,ra=null;d3.timer=function(t,e,r){var n=!1,a=ra;if(arguments.length<3){if(arguments.length<2)e=0;else if(!isFinite(e))return;r=Date.now()}for(;a;){if(a.callback===t){a.then=r,a.delay=e,n=!0;break}a,a=a.next}n||(ra={callback:t,then:r,delay:e,next:ra}),ta||(ea=clearTimeout(ea),ta=1,na(at))},d3.timer.flush=function(){for(var t,e=Date.now(),r=ra;r;)t=e-r.then,r.delay||(r.flush=r.callback(t)),r=r.next;it()};var na=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,17)};d3.transform=function(t){var e=document.createElementNS(d3.ns.prefix.svg,"g"),r={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate();return new ot(n?n.matrix:r)})(t)},ot.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var aa=180/Math.PI;d3.mouse=function(t){return lt(t,C())};var ia=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(t,e){return arguments.length<2&&(e=C().touches),e?wn(e).map(function(e){var r=lt(t,e);return r.identifier=e.identifier,r}):[]},d3.scale={},d3.scale.linear=function(){return gt([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return Mt(d3.scale.linear(),Rt)};var oa=d3.format(".0e");Rt.pow=function(t){return Math.pow(10,t)},jt.pow=function(t){return-Math.pow(10,-t)},d3.scale.pow=function(){return It(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return Nt([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(ua)},d3.scale.category20=function(){return d3.scale.ordinal().range(sa)},d3.scale.category20b=function(){return d3.scale.ordinal().range(ca)},d3.scale.category20c=function(){return d3.scale.ordinal().range(la)};var ua=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],sa=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],ca=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],la=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return Ft([],[])},d3.scale.quantize=function(){return At(0,1,[0,1])},d3.scale.identity=function(){return Ut([0,1])},d3.svg={},d3.svg.arc=function(){function t(){var t=e.apply(this,arguments),i=r.apply(this,arguments),o=n.apply(this,arguments)+ha,u=a.apply(this,arguments)+ha,s=(u<o&&(s=o,o=u,u=s),u-o),c=s<Math.PI?"0":"1",l=Math.cos(o),h=Math.sin(o),f=Math.cos(u),p=Math.sin(u);return s>=fa?t?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":t?"M"+i*l+","+i*h+"A"+i+","+i+" 0 "+c+",1 "+i*f+","+i*p+"L"+t*f+","+t*p+"A"+t+","+t+" 0 "+c+",0 "+t*l+","+t*h+"Z":"M"+i*l+","+i*h+"A"+i+","+i+" 0 "+c+",1 "+i*f+","+i*p+"L0,0Z"}var e=Ct,r=Tt,n=St,a=kt;return t.innerRadius=function(r){return arguments.length?(e=o(r),t):e},t.outerRadius=function(e){return arguments.length?(r=o(e),t):r},t.startAngle=function(e){return arguments.length?(n=o(e),t):n},t.endAngle=function(e){return arguments.length?(a=o(e),t):a},t.centroid=function(){var t=(e.apply(this,arguments)+r.apply(this,arguments))/2,i=(n.apply(this,arguments)+a.apply(this,arguments))/2+ha;return[Math.cos(i)*t,Math.sin(i)*t]},t};var ha=-Math.PI/2,fa=2*Math.PI-1e-6;d3.svg.line=function(){return Lt(n)};var pa="linear",da=d3.map({linear:Ot,"step-before":zt,"step-after":Ht,basis:Vt,"basis-open":Gt,"basis-closed":$t,bundle:Qt,cardinal:Bt,"cardinal-open":qt,"cardinal-closed":Xt,monotone:re}),ga=[0,2/3,1/3,0],ma=[0,1/3,2/3,0],va=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var t=Lt(ne);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},zt.reverse=Ht,Ht.reverse=zt,d3.svg.area=function(){return ae(Object)},d3.svg.area.radial=function(){var t=ae(ne);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},d3.svg.chord=function(){function t(t,o){var s=e(this,i,t,o),c=e(this,u,t,o);return"M"+s.p0+n(s.r,s.p1,s.a1-s.a0)+(r(s,c)?a(s.r,s.p1,s.r,s.p0):a(s.r,s.p1,c.r,c.p0)+n(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,s.r,s.p0))+"Z"}function e(t,e,r,n){var a=e.call(t,r,n),i=s.call(t,a,n),o=c.call(t,a,n)+ha,u=l.call(t,a,n)+ha;return{r:i,a0:o,a1:u,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(u),i*Math.sin(u)]}}function r(t,e){return t.a0==e.a0&&t.a1==e.a1}function n(t,e,r){return"A"+t+","+t+" 0 "+ +(r>Math.PI)+",1 "+e}function a(t,e,r,n){return"Q 0,0 "+n}var i=ie,u=oe,s=ue,c=St,l=kt;return t.radius=function(e){return arguments.length?(s=o(e),t):s},t.source=function(e){return arguments.length?(i=o(e),t):i},t.target=function(e){return arguments.length?(u=o(e),t):u},t.startAngle=function(e){return arguments.length?(c=o(e),t):c},t.endAngle=function(e){return arguments.length?(l=o(e),t):l},t},d3.svg.diagonal=function(){function t(t,a){var i=e.call(this,t,a),o=r.call(this,t,a),u=(i.y+o.y)/2,s=[i,{x:i.x,y:u},{x:o.x,y:u},o];return s=s.map(n),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var e=ie,r=oe,n=se;return t.source=function(r){return arguments.length?(e=o(r),t):e},t.target=function(e){return arguments.length?(r=o(e),t):r},t.projection=function(e){return arguments.length?(n=e,t):n},t},d3.svg.diagonal.radial=function(){var t=d3.svg.diagonal(),e=se,r=t.projection;return t.projection=function(t){return arguments.length?r(ce(e=t)):e},t},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function t(t,n){return(ya.get(e.call(this,t,n))||fe)(r.call(this,t,n))}var e=he,r=le;return t.type=function(r){return arguments.length?(e=o(r),t):e},t.size=function(e){return arguments.length?(r=o(e),t):r},t};var ya=d3.map({circle:fe,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*wa)),r=e*wa;return"M0,"+-e+"L"+r+",0 0,"+e+" "+-r+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ba),r=e*ba/2;return"M0,"+r+"L"+e+","+-r+" "+-e+","+-r+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ba),r=e*ba/2;return"M0,"+-r+"L"+e+","+r+" "+-e+","+r+"Z"}});d3.svg.symbolTypes=ya.keys();var ba=Math.sqrt(3),wa=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function t(t){t.each(function(){var t,h=d3.select(this),f=null==c?r.ticks?r.ticks.apply(r,s):r.domain():c,p=null==e?r.tickFormat?r.tickFormat.apply(r,s):String:e,d=ge(r,f,l),g=h.selectAll(".minor").data(d,String),m=g.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),v=d3.transition(g.exit()).style("opacity",1e-6).remove(),y=d3.transition(g).style("opacity",1),b=h.selectAll("g").data(f,String),w=b.enter().insert("g","path").style("opacity",1e-6),x=d3.transition(b.exit()).style("opacity",1e-6).remove(),_=d3.transition(b).style("opacity",1),M=ft(r),R=h.selectAll(".domain").data([0]),j=(R.enter().append("path").attr("class","domain"),d3.transition(R)),I=r.copy(),E=this.__chart__||I;switch(this.__chart__=I,w.append("line").attr("class","tick"),w.append("text"),_.select("text").text(p),n){case"bottom":t=pe,m.attr("y2",i),y.attr("x2",0).attr("y2",i),w.select("line").attr("y2",a),w.select("text").attr("y",Math.max(a,0)+u),_.select("line").attr("x2",0).attr("y2",a),_.select("text").attr("x",0).attr("y",Math.max(a,0)+u).attr("dy",".71em").attr("text-anchor","middle"),j.attr("d","M"+M[0]+","+o+"V0H"+M[1]+"V"+o);break;case"top":t=pe,m.attr("y2",-i),y.attr("x2",0).attr("y2",-i),w.select("line").attr("y2",-a),w.select("text").attr("y",-(Math.max(a,0)+u)),_.select("line").attr("x2",0).attr("y2",-a),_.select("text").attr("x",0).attr("y",-(Math.max(a,0)+u)).attr("dy","0em").attr("text-anchor","middle"),j.attr("d","M"+M[0]+","+-o+"V0H"+M[1]+"V"+-o);break;case"left":t=de,m.attr("x2",-i),y.attr("x2",-i).attr("y2",0),w.select("line").attr("x2",-a),w.select("text").attr("x",-(Math.max(a,0)+u)),_.select("line").attr("x2",-a).attr("y2",0),_.select("text").attr("x",-(Math.max(a,0)+u)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),j.attr("d","M"+-o+","+M[0]+"H0V"+M[1]+"H"+-o);break;case"right":t=de,m.attr("x2",i),y.attr("x2",i).attr("y2",0),w.select("line").attr("x2",a),w.select("text").attr("x",Math.max(a,0)+u),_.select("line").attr("x2",a).attr("y2",0),_.select("text").attr("x",Math.max(a,0)+u).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),j.attr("d","M"+o+","+M[0]+"H0V"+M[1]+"H"+o)}if(r.ticks)w.call(t,E),_.call(t,I),x.call(t,I),m.call(t,E),y.call(t,I),v.call(t,I);else{var N=I.rangeBand()/2,F=function(t){return I(t)+N};w.call(t,F),_.call(t,F)}})}var e,r=d3.scale.linear(),n="bottom",a=6,i=6,o=6,u=3,s=[10],c=null,l=0;return t.scale=function(e){return arguments.length?(r=e,t):r},t.orient=function(e){return arguments.length?(n=e,t):n},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(c=e,t):c},t.tickFormat=function(r){return arguments.length?(e=r,t):e},t.tickSize=function(e,r,n){if(!arguments.length)return a;var u=arguments.length-1;return a=+e,i=u>1?+r:a,o=u>0?+arguments[u]:a,t},t.tickPadding=function(e){return arguments.length?(u=+e,t):u},t.tickSubdivide=function(e){return arguments.length?(l=+e,t):l},t},d3.svg.brush=function(){function t(i){i.each(function(){var i,o=d3.select(this),l=o.selectAll(".background").data([0]),h=o.selectAll(".extent").data([0]),f=o.selectAll(".resize").data(c,String);o.style("pointer-events","all").on("mousedown.brush",a).on("touchstart.brush",a),l.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),h.enter().append("rect").attr("class","extent").style("cursor","move"),f.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return xa[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),f.style("display",t.empty()?"none":null),f.exit().remove(),u&&(i=ft(u),l.attr("x",i[0]).attr("width",i[1]-i[0]),r(o)),s&&(i=ft(s),l.attr("y",i[0]).attr("height",i[1]-i[0]),n(o)),e(o)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)][0]+","+l[+/^s/.test(t)][1]+")"})}function r(t){t.select(".extent").attr("x",l[0][0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1][0]-l[0][0])}function n(t){t.select(".extent").attr("y",l[0][1]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1][1]-l[0][1])}function a(){function a(){var t=d3.event.changedTouches;return t?d3.touches(v,t)[0]:d3.mouse(v)}function c(){32==d3.event.keyCode&&(R||(g=null,j[0]-=l[1][0],j[1]-=l[1][1],R=2),U())}function h(){32==d3.event.keyCode&&2==R&&(j[0]+=l[1][0],j[1]+=l[1][1],R=0,U())}function f(){var t=a(),i=!1;m&&(t[0]+=m[0],t[1]+=m[1]),R||(d3.event.altKey?(g||(g=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2]),j[0]=l[+(t[0]<g[0])][0],j[1]=l[+(t[1]<g[1])][1]):g=null),_&&p(t,u,0)&&(r(w),i=!0),M&&p(t,s,1)&&(n(w),i=!0),i&&(e(w),b({type:"brush",mode:R?"move":"resize"}))}function p(t,e,r){var n,a,o=ft(e),u=o[0],s=o[1],c=j[r],h=l[1][r]-l[0][r];if(R&&(u-=c,s-=h+c),n=Math.max(u,Math.min(s,t[r])),R?a=(n+=c)+h:(g&&(c=Math.max(u,Math.min(s,2*g[r]-n))),c<n?(a=n,n=c):a=c),l[0][r]!==n||l[1][r]!==a)return i=null,l[0][r]=n,l[1][r]=a,!0}function d(){f(),w.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),d3.select("body").style("cursor",null),I.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b({type:"brushend"}),U()}var g,m,v=this,y=d3.select(d3.event.target),b=o.of(v,arguments),w=d3.select(v),x=y.datum(),_=!/^(n|s)$/.test(x)&&u,M=!/^(e|w)$/.test(x)&&s,R=y.classed("extent"),j=a(),I=d3.select(window).on("mousemove.brush",f).on("mouseup.brush",d).on("touchmove.brush",f).on("touchend.brush",d).on("keydown.brush",c).on("keyup.brush",h);if(R)j[0]=l[0][0]-j[0],j[1]=l[0][1]-j[1];else if(x){var E=+/w$/.test(x),N=+/^n/.test(x);m=[l[1-E][0]-j[0],l[1-N][1]-j[1]],j[0]=l[E][0],j[1]=l[N][1]}else d3.event.altKey&&(g=j.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),
d3.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),f(),U()}var i,o=T(t,"brushstart","brush","brushend"),u=null,s=null,c=_a[0],l=[[0,0],[0,0]];return t.x=function(e){return arguments.length?(u=e,c=_a[!u<<1|!s],t):u},t.y=function(e){return arguments.length?(s=e,c=_a[!u<<1|!s],t):s},t.extent=function(e){var r,n,a,o,c;return arguments.length?(i=[[0,0],[0,0]],u&&(r=e[0],n=e[1],s&&(r=r[0],n=n[0]),i[0][0]=r,i[1][0]=n,u.invert&&(r=u(r),n=u(n)),n<r&&(c=r,r=n,n=c),l[0][0]=0|r,l[1][0]=0|n),s&&(a=e[0],o=e[1],u&&(a=a[1],o=o[1]),i[0][1]=a,i[1][1]=o,s.invert&&(a=s(a),o=s(o)),o<a&&(c=a,a=o,o=c),l[0][1]=0|a,l[1][1]=0|o),t):(e=i||l,u&&(r=e[0][0],n=e[1][0],i||(r=l[0][0],n=l[1][0],u.invert&&(r=u.invert(r),n=u.invert(n)),n<r&&(c=r,r=n,n=c))),s&&(a=e[0][1],o=e[1][1],i||(a=l[0][1],o=l[1][1],s.invert&&(a=s.invert(a),o=s.invert(o)),o<a&&(c=a,a=o,o=c))),u&&s?[[r,a],[n,o]]:u?[r,n]:s&&[a,o])},t.clear=function(){return i=null,l[0][0]=l[0][1]=l[1][0]=l[1][1]=0,t},t.empty=function(){return u&&l[0][0]===l[1][0]||s&&l[0][1]===l[1][1]},d3.rebind(t,o,"on")};var xa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_a=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function t(){this.on("mousedown.drag",e).on("touchstart.drag",e)}function e(){function t(){var t=u.parentNode,e=d3.event.changedTouches;return e?d3.touches(t,e)[0]:d3.mouse(t)}function e(){if(!u.parentNode)return a();var e=t(),r=e[0]-l[0],n=e[1]-l[1];h|=r|n,l=e,U(),s({type:"drag",x:e[0]+o[0],y:e[1]+o[1],dx:r,dy:n})}function a(){s({type:"dragend"}),h&&(U(),d3.event.target===c&&f.on("click.drag",i,!0)),f.on("mousemove.drag",null).on("touchmove.drag",null).on("mouseup.drag",null).on("touchend.drag",null)}function i(){U(),f.on("click.drag",null)}var o,u=this,s=r.of(u,arguments),c=d3.event.target,l=t(),h=0,f=d3.select(window).on("mousemove.drag",e).on("touchmove.drag",e).on("mouseup.drag",a,!0).on("touchend.drag",a,!0);n?(o=n.apply(u,arguments),o=[o.x-l[0],o.y-l[1]]):o=[0,0],U(),s({type:"dragstart"})}var r=T(t,"drag","dragstart","dragend"),n=null;return t.origin=function(e){return arguments.length?(n=e,t):n},d3.rebind(t,r,"on")},d3.behavior.zoom=function(){function t(){this.on("mousedown.zoom",o).on("mousewheel.zoom",u).on("mousemove.zoom",s).on("DOMMouseScroll.zoom",u).on("dblclick.zoom",c).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom",l)}function e(t){return[(t[0]-b[0])/w,(t[1]-b[1])/w]}function r(t){return[t[0]*w+b[0],t[1]*w+b[1]]}function n(t){w=Math.max(x[0],Math.min(x[1],t))}function a(t,e){e=r(e),b[0]+=t[0]-e[0],b[1]+=t[1]-e[1]}function i(t){g&&g.domain(d.range().map(function(t){return(t-b[0])/w}).map(d.invert)),v&&v.domain(m.range().map(function(t){return(t-b[1])/w}).map(m.invert)),d3.event.preventDefault(),t({type:"zoom",scale:w,translate:b})}function o(){function t(){c=1,a(d3.mouse(o),h),i(u)}function r(){c&&U(),l.on("mousemove.zoom",null).on("mouseup.zoom",null),c&&d3.event.target===s&&l.on("click.zoom",n,!0)}function n(){U(),l.on("click.zoom",null)}var o=this,u=_.of(o,arguments),s=d3.event.target,c=0,l=d3.select(window).on("mousemove.zoom",t).on("mouseup.zoom",r),h=e(d3.mouse(o));window.focus(),U()}function u(){f||(f=e(d3.mouse(this))),n(Math.pow(2,.002*me())*w),a(d3.mouse(this),f),i(_.of(this,arguments))}function s(){f=null}function c(){var t=d3.mouse(this),r=e(t);n(d3.event.shiftKey?w/2:2*w),a(t,r),i(_.of(this,arguments))}function l(){var t=d3.touches(this),r=Date.now();if(p=w,f={},t.forEach(function(t){f[t.identifier]=e(t)}),U(),1===t.length&&r-y<500){var o=t[0],u=e(t[0]);n(2*w),a(o,u),i(_.of(this,arguments))}y=r}function h(){var t=d3.touches(this),e=t[0],r=f[e.identifier];if(o=t[1]){var o,u=f[o.identifier];e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r=[(r[0]+u[0])/2,(r[1]+u[1])/2],n(d3.event.scale*p)}a(e,r),i(_.of(this,arguments))}var f,p,d,g,m,v,y,b=[0,0],w=1,x=Ra,_=T(t,"zoom");return t.translate=function(e){return arguments.length?(b=e.map(Number),t):b},t.scale=function(e){return arguments.length?(w=+e,t):w},t.scaleExtent=function(e){return arguments.length?(x=null==e?Ra:e.map(Number),t):x},t.x=function(e){return arguments.length?(g=e,d=e.copy(),t):g},t.y=function(e){return arguments.length?(v=e,m=e.copy(),t):v},d3.rebind(t,_,"on")};var Ma,Ra=[0,1/0];d3.layout={},d3.layout.bundle=function(){return function(t){for(var e=[],r=-1,n=t.length;++r<n;)e.push(ve(t[r]));return e}},d3.layout.chord=function(){function t(){var t,c,h,f,p,d={},g=[],m=d3.range(i),v=[];for(r=[],n=[],t=0,f=-1;++f<i;){for(c=0,p=-1;++p<i;)c+=a[f][p];g.push(c),v.push(d3.range(i)),t+=c}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),u&&v.forEach(function(t,e){t.sort(function(t,r){return u(a[e][t],a[e][r])})}),t=(2*Math.PI-l*i)/t,c=0,f=-1;++f<i;){for(h=c,p=-1;++p<i;){var y=m[f],b=v[y][p],w=a[y][b],x=c,_=c+=w*t;d[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}n[y]={index:y,startAngle:h,endAngle:c,value:(c-h)/t},c+=l}for(f=-1;++f<i;)for(p=f-1;++p<i;){var M=d[f+"-"+p],R=d[p+"-"+f];(M.value||R.value)&&r.push(M.value<R.value?{source:R,target:M}:{source:M,target:R})}s&&e()}function e(){r.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var r,n,a,i,o,u,s,c={},l=0;return c.matrix=function(t){return arguments.length?(i=(a=t)&&a.length,r=n=null,c):a},c.padding=function(t){return arguments.length?(l=t,r=n=null,c):l},c.sortGroups=function(t){return arguments.length?(o=t,r=n=null,c):o},c.sortSubgroups=function(t){return arguments.length?(u=t,r=null,c):u},c.sortChords=function(t){return arguments.length?(s=t,r&&e(),c):s},c.chords=function(){return r||t(),r},c.groups=function(){return n||t(),n},c},d3.layout.force=function(){function t(t){return function(e,r,n,a,i){if(e.point!==t){var o=e.cx-t.x,u=e.cy-t.y,s=1/Math.sqrt(o*o+u*u);if((a-r)*s<v){var c=e.charge*s*s;return t.px-=o*c,t.py-=u*c,!0}if(e.point&&isFinite(s)){var c=e.pointCharge*s*s;t.px-=o*c,t.py-=u*c}}return!e.charge}}function e(t){we(Ia=t),ja=c}var r,a,i,u,s,c={},l=d3.dispatch("start","tick","end"),h=[1,1],f=.9,p=je,d=Ie,g=-30,m=.1,v=.8,y=[],b=[];return c.tick=function(){if((a*=.99)<.005)return l.end({type:"end",alpha:a=0}),!0;var e,r,n,o,c,p,d,v,w,x=y.length,_=b.length;for(r=0;r<_;++r)n=b[r],o=n.source,c=n.target,v=c.x-o.x,w=c.y-o.y,(p=v*v+w*w)&&(p=a*u[r]*((p=Math.sqrt(p))-i[r])/p,v*=p,w*=p,c.x-=v*(d=o.weight/(c.weight+o.weight)),c.y-=w*d,o.x+=v*(d=1-d),o.y+=w*d);if((d=a*m)&&(v=h[0]/2,w=h[1]/2,r=-1,d))for(;++r<x;)n=y[r],n.x+=(v-n.x)*d,n.y+=(w-n.y)*d;if(g)for(Re(e=d3.geom.quadtree(y),a,s),r=-1;++r<x;)(n=y[r]).fixed||e.visit(t(n));for(r=-1;++r<x;)n=y[r],n.fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*f,n.y-=(n.py-(n.py=n.y))*f);l.tick({type:"tick",alpha:a})},c.nodes=function(t){return arguments.length?(y=t,c):y},c.links=function(t){return arguments.length?(b=t,c):b},c.size=function(t){return arguments.length?(h=t,c):h},c.linkDistance=function(t){return arguments.length?(p=o(t),c):p},c.distance=c.linkDistance,c.linkStrength=function(t){return arguments.length?(d=o(t),c):d},c.friction=function(t){return arguments.length?(f=t,c):f},c.charge=function(t){return arguments.length?(g="function"==typeof t?t:+t,c):g},c.gravity=function(t){return arguments.length?(m=t,c):m},c.theta=function(t){return arguments.length?(v=t,c):v},c.alpha=function(t){return arguments.length?(a?a=t>0?t:0:t>0&&(l.start({type:"start",alpha:a=t}),d3.timer(c.tick)),c):a},c.start=function(){function t(t,r){for(var n,a=e(),i=-1,o=a.length;++i<o;)if(!isNaN(n=a[i][t]))return n;return Math.random()*r}function e(){if(!a){for(a=[],n=0;n<l;++n)a[n]=[];for(n=0;n<f;++n){var t=b[n];a[t.source.index].push(t.target),a[t.target.index].push(t.source)}}return a[r]}var r,n,a,o,l=y.length,f=b.length,m=h[0],v=h[1];for(r=0;r<l;++r)(o=y[r]).index=r,o.weight=0;for(i=[],u=[],r=0;r<f;++r)o=b[r],"number"==typeof o.source&&(o.source=y[o.source]),"number"==typeof o.target&&(o.target=y[o.target]),i[r]=p.call(this,o,r),u[r]=d.call(this,o,r),++o.source.weight,++o.target.weight;for(r=0;r<l;++r)o=y[r],isNaN(o.x)&&(o.x=t("x",m)),isNaN(o.y)&&(o.y=t("y",v)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(s=[],"function"==typeof g)for(r=0;r<l;++r)s[r]=+g.call(this,y[r],r);else for(r=0;r<l;++r)s[r]=g;return c.resume()},c.resume=function(){return c.alpha(.1)},c.stop=function(){return c.alpha(0)},c.drag=function(){r||(r=d3.behavior.drag().origin(n).on("dragstart",e).on("drag",Me).on("dragend",_e)),this.on("mouseover.force",we).on("mouseout.force",xe).call(r)},d3.rebind(c,l,"on")};var ja,Ia;d3.layout.partition=function(){function t(e,r,n,a){var i=e.children;if(e.x=r,e.y=e.depth*a,e.dx=n,e.dy=a,i&&(o=i.length)){var o,u,s,c=-1;for(n=e.value?n/e.value:0;++c<o;)t(u=i[c],r,s=u.value*n,a),r+=s}}function e(t){var r=t.children,n=0;if(r&&(a=r.length))for(var a,i=-1;++i<a;)n=Math.max(n,e(r[i]));return 1+n}function r(r,i){var o=n.call(this,r,i);return t(o[0],0,a[0],a[1]/e(o[0])),o}var n=d3.layout.hierarchy(),a=[1,1];return r.size=function(t){return arguments.length?(a=t,r):a},De(r,n)},d3.layout.pie=function(){function t(i,o){var u=i.map(function(r,n){return+e.call(t,r,n)}),s=+("function"==typeof n?n.apply(this,arguments):n),c=(("function"==typeof a?a.apply(this,arguments):a)-n)/d3.sum(u),l=d3.range(i.length);null!=r&&l.sort(r===Ea?function(t,e){return u[e]-u[t]}:function(t,e){return r(i[t],i[e])});var h=[];return l.forEach(function(t){h[t]={data:i[t],value:d=u[t],startAngle:s,endAngle:s+=d*c}}),h}var e=Number,r=Ea,n=0,a=2*Math.PI;return t.value=function(r){return arguments.length?(e=r,t):e},t.sort=function(e){return arguments.length?(r=e,t):r},t.startAngle=function(e){return arguments.length?(n=e,t):n},t.endAngle=function(e){return arguments.length?(a=e,t):a},t};var Ea={};d3.layout.stack=function(){function t(n,s){var c=n.map(function(r,n){return e.call(t,r,n)}),l=c.map(function(e,r){return e.map(function(e,r){return[o.call(t,e,r),u.call(t,e,r)]})}),h=r.call(t,l,s);c=d3.permute(c,h),l=d3.permute(l,h);var f,p,d,g=a.call(t,l,s),m=c.length,v=c[0].length;for(p=0;p<v;++p)for(i.call(t,c[0][p],d=g[p],l[0][p][1]),f=1;f<m;++f)i.call(t,c[f][p],d+=l[f-1][p][1],l[f][p][1]);return n}var e=n,r=Ae,a=Ue,i=Fe,o=Ee,u=Ne;return t.values=function(r){return arguments.length?(e=r,t):e},t.order=function(e){return arguments.length?(r="function"==typeof e?e:Na.get(e)||Ae,t):r},t.offset=function(e){return arguments.length?(a="function"==typeof e?e:Fa.get(e)||Ue,t):a},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(u=e,t):u},t.out=function(e){return arguments.length?(i=e,t):i},t};var Na=d3.map({"inside-out":function(t){var e,r,n=t.length,a=t.map(Ce),i=t.map(Te),o=d3.range(n).sort(function(t,e){return a[t]-a[e]}),u=0,s=0,c=[],l=[];for(e=0;e<n;++e)r=o[e],u<s?(u+=i[r],c.push(r)):(s+=i[r],l.push(r));return l.reverse().concat(c)},reverse:function(t){return d3.range(t.length).reverse()},default:Ae}),Fa=d3.map({silhouette:function(t){var e,r,n,a=t.length,i=t[0].length,o=[],u=0,s=[];for(r=0;r<i;++r){for(e=0,n=0;e<a;e++)n+=t[e][r][1];n>u&&(u=n),o.push(n)}for(r=0;r<i;++r)s[r]=(u-o[r])/2;return s},wiggle:function(t){var e,r,n,a,i,o,u,s,c,l=t.length,h=t[0],f=h.length,p=[];for(p[0]=s=c=0,r=1;r<f;++r){for(e=0,a=0;e<l;++e)a+=t[e][r][1];for(e=0,i=0,u=h[r][0]-h[r-1][0];e<l;++e){for(n=0,o=(t[e][r][1]-t[e][r-1][1])/(2*u);n<e;++n)o+=(t[n][r][1]-t[n][r-1][1])/u;i+=o*t[e][r][1]}p[r]=s-=a?i/a*u:0,s<c&&(c=s)}for(r=0;r<f;++r)p[r]-=c;return p},expand:function(t){var e,r,n,a=t.length,i=t[0].length,o=1/a,u=[];for(r=0;r<i;++r){for(e=0,n=0;e<a;e++)n+=t[e][r][1];if(n)for(e=0;e<a;e++)t[e][r][1]/=n;else for(e=0;e<a;e++)t[e][r][1]=o}for(r=0;r<i;++r)u[r]=0;return u},zero:Ue});d3.layout.histogram=function(){function t(t,i){for(var o,u,s=[],c=t.map(r,this),l=n.call(this,c,i),h=a.call(this,l,c,i),i=-1,f=c.length,p=h.length-1,d=e?1:1/f;++i<p;)o=s[i]=[],o.dx=h[i+1]-(o.x=h[i]),o.y=0;if(p>0)for(i=-1;++i<f;)(u=c[i])>=l[0]&&u<=l[1]&&(o=s[d3.bisect(h,u,1,p)-1],o.y+=d,o.push(t[i]));return s}var e=!0,r=Number,n=Pe,a=ke;return t.value=function(e){return arguments.length?(r=e,t):r},t.range=function(e){return arguments.length?(n=o(e),t):n},t.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return Le(t,e)}:o(e),t):a},t.frequency=function(r){return arguments.length?(e=!!r,t):e},t},d3.layout.hierarchy=function(){function t(e,o,u){var s=a.call(r,e,o),c=Aa?e:{data:e};if(c.depth=o,u.push(c),s&&(l=s.length)){for(var l,h=-1,f=c.children=[],p=0,g=o+1;++h<l;)d=t(s[h],g,u),d.parent=c,f.push(d),p+=d.value;n&&f.sort(n),i&&(c.value=p)}else i&&(c.value=+i.call(r,e,o)||0);return c}function e(t,n){var a=t.children,o=0;if(a&&(u=a.length))for(var u,s=-1,c=n+1;++s<u;)o+=e(a[s],c);else i&&(o=+i.call(r,Aa?t:t.data,n)||0);return i&&(t.value=o),o}function r(e){var r=[];return t(e,0,r),r}var n=He,a=Oe,i=ze;return r.sort=function(t){return arguments.length?(n=t,r):n},r.children=function(t){return arguments.length?(a=t,r):a},r.value=function(t){return arguments.length?(i=t,r):i},r.revalue=function(t){return e(t,0),t},r};var Aa=!1;d3.layout.pack=function(){function t(t,n){var a=e.call(this,t,n),i=a[0];i.x=0,i.y=0,Qe(i);var o=r[0],u=r[1];return We(i,o/2,u/2,1/Math.max(2*i.r/o,2*i.r/u)),a}var e=d3.layout.hierarchy().sort(Xe),r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},De(t,e)},d3.layout.cluster=function(){function t(t,a){var i,o=e.call(this,t,a),u=o[0],s=0;lr(u,function(t){var e=t.children;e&&e.length?(t.x=tr(e),t.y=Ke(e)):(t.x=i?s+=r(t,i):0,t.y=0,i=t)});var c=er(u),l=rr(u),h=c.x-r(c,l)/2,f=l.x+r(l,c)/2;return lr(u,function(t){t.x=(t.x-h)/(f-h)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),o}var e=d3.layout.hierarchy().sort(null).value(null),r=nr,n=[1,1];return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(n=e,t):n},De(t,e)},d3.layout.tree=function(){function t(t,a){function i(t,e){var n=t.children,a=t._tree;if(n&&(o=n.length)){for(var o,s,c,l=n[0],h=l,f=-1;++f<o;)c=n[f],i(c,s),h=u(c,s,h),s=c;hr(t);var p=.5*(l._tree.prelim+c._tree.prelim);e?(a.prelim=e._tree.prelim+r(t,e),a.mod=a.prelim-p):a.prelim=p}else e&&(a.prelim=e._tree.prelim+r(t,e))}function o(t,e){t.x=t._tree.prelim+e;var r=t.children;if(r&&(n=r.length)){var n,a=-1;for(e+=t._tree.mod;++a<n;)o(r[a],e)}}function u(t,e,n){if(e){for(var a,i=t,o=t,u=e,s=t.parent.children[0],c=i._tree.mod,l=o._tree.mod,h=u._tree.mod,f=s._tree.mod;u=ir(u),i=ar(i),u&&i;)s=ar(s),o=ir(o),o._tree.ancestor=t,a=u._tree.prelim+h-i._tree.prelim-c+r(u,i),a>0&&(fr(pr(u,t,n),t,a),c+=a,l+=a),h+=u._tree.mod,c+=i._tree.mod,f+=s._tree.mod,l+=o._tree.mod;u&&!ir(o)&&(o._tree.thread=u,o._tree.mod+=h-l),i&&!ar(s)&&(s._tree.thread=i,s._tree.mod+=c-f,n=t)}return n}var s=e.call(this,t,a),c=s[0];lr(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),i(c),o(c,-c._tree.prelim);var l=or(c,sr),h=or(c,ur),f=or(c,cr),p=l.x-r(l,h)/2,d=h.x+r(h,l)/2,g=f.depth||1;return lr(c,function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=t.depth/g*n[1],delete t._tree}),s}var e=d3.layout.hierarchy().sort(null).value(null),r=nr,n=[1,1];return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(n=e,t):n},De(t,e)},d3.layout.treemap=function(){function t(t,e){for(var r,n,a=-1,i=t.length;++a<i;)n=(r=t[a]).value*(e<0?0:e),r.area=isNaN(n)||n<=0?0:n}function e(r){var i=r.children;if(i&&i.length){var o,u,s,c=h(r),l=[],f=i.slice(),p=1/0,d=Math.min(c.dx,c.dy);for(t(f,c.dx*c.dy/r.value),l.area=0;(s=f.length)>0;)l.push(o=f[s-1]),l.area+=o.area,(u=n(l,d))<=p?(f.pop(),p=u):(l.area-=l.pop().area,a(l,d,c,!1),d=Math.min(c.dx,c.dy),l.length=l.area=0,p=1/0);l.length&&(a(l,d,c,!0),l.length=l.area=0),i.forEach(e)}}function r(e){var n=e.children;if(n&&n.length){var i,o=h(e),u=n.slice(),s=[];for(t(u,o.dx*o.dy/e.value),s.area=0;i=u.pop();)s.push(i),s.area+=i.area,null!=i.z&&(a(s,i.z?o.dx:o.dy,o,!u.length),s.length=s.area=0);n.forEach(r)}}function n(t,e){for(var r,n=t.area,a=0,i=1/0,o=-1,u=t.length;++o<u;)(r=t[o].area)&&(r<i&&(i=r),r>a&&(a=r));return n*=n,e*=e,n?Math.max(e*a*p/n,n/(e*i*p)):1/0}function a(t,e,r,n){var a,i=-1,o=t.length,u=r.x,c=r.y,l=e?s(t.area/e):0;if(e==r.dx){for((n||l>r.dy)&&(l=r.dy);++i<o;)a=t[i],a.x=u,a.y=c,a.dy=l,u+=a.dx=Math.min(r.x+r.dx-u,l?s(a.area/l):0);a.z=!0,a.dx+=r.x+r.dx-u,r.y+=l,r.dy-=l}else{for((n||l>r.dx)&&(l=r.dx);++i<o;)a=t[i],a.x=u,a.y=c,a.dx=l,c+=a.dy=Math.min(r.y+r.dy-c,l?s(a.area/l):0);a.z=!1,a.dy+=r.y+r.dy-c,r.x+=l,r.dx-=l}}function i(n){var a=o||u(n),i=a[0];return i.x=0,i.y=0,i.dx=c[0],i.dy=c[1],o&&u.revalue(i),t([i],i.dx*i.dy/i.value),(o?r:e)(i),f&&(o=a),a}var o,u=d3.layout.hierarchy(),s=Math.round,c=[1,1],l=null,h=dr,f=!1,p=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(c=t,i):c},i.padding=function(t){function e(e){var r=t.call(i,e,e.depth);return null==r?dr(e):gr(e,"number"==typeof r?[r,r,r,r]:r)}function r(e){return gr(e,t)}if(!arguments.length)return l;var n;return h=null==(l=t)?dr:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],r):r,i},i.round=function(t){return arguments.length?(s=t?Math.round:Number,i):s!=Number},i.sticky=function(t){return arguments.length?(f=t,o=null,i):f},i.ratio=function(t){return arguments.length?(p=t,i):p},De(i,u)},d3.csv=function(t,e){d3.text(t,"text/csv",function(t){e(t&&d3.csv.parse(t))})},d3.csv.parse=function(t){var e;return d3.csv.parseRows(t,function(t,r){if(r){for(var n={},a=-1,i=e.length;++a<i;)n[e[a]]=t[a];return n}return e=t,null})},d3.csv.parseRows=function(t,e){function r(){if(s.lastIndex>=t.length)return o;if(a)return a=!1,i;var e=s.lastIndex;if(34===t.charCodeAt(e)){for(var r=e;r++<t.length;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;r++}s.lastIndex=r+2;var n=t.charCodeAt(r+1);return 13===n?(a=!0,10===t.charCodeAt(r+2)&&s.lastIndex++):10===n&&(a=!0),t.substring(e+1,r).replace(/""/g,'"')}var u=s.exec(t);return u?(a=44!==u[0].charCodeAt(0),t.substring(e,u.index)):(s.lastIndex=t.length,t.substring(e))}var n,a,i={},o={},u=[],s=/\r\n|[,\r\n]/g,c=0;for(s.lastIndex=0;(n=r())!==o;){for(var l=[];n!==i&&n!==o;)l.push(n),n=r();e&&!(l=e(l,c++))||u.push(l)}return u},d3.csv.format=function(t){return t.map(mr).join("\n")},d3.geo={};var Ua=Math.PI/180;d3.geo.azimuthal=function(){function t(t){var e,n=t[0]*Ua-r,c=t[1]*Ua,l=Math.cos(n),h=Math.sin(n),f=Math.cos(c),p=Math.sin(c),d="orthographic"!==o?i*p+a*f*l:null,g="stereographic"===o?1/(1+d):"gnomonic"===o?1/d:"equidistant"===o?(e=Math.acos(d),e?e/Math.sin(e):0):"equalarea"===o?Math.sqrt(2/(1+d)):1,m=g*f*h,v=g*(i*f*l-a*p);return[u*m+s[0],u*v+s[1]]}var e,r,n,a,i,o="orthographic",u=200,s=[480,250];return t.invert=function(t){var e=(t[0]-s[0])/u,n=(t[1]-s[1])/u,c=Math.sqrt(e*e+n*n),l="stereographic"===o?2*Math.atan(c):"gnomonic"===o?Math.atan(c):"equidistant"===o?c:"equalarea"===o?2*Math.asin(.5*c):Math.asin(c),h=Math.sin(l),f=Math.cos(l);return[(r+Math.atan2(e*h,c*a*f+n*i*h))/Ua,Math.asin(f*i-(c?n*h*a/c:0))/Ua]},t.mode=function(e){return arguments.length?(o=e+"",t):o},t.origin=function(o){return arguments.length?(e=o,r=e[0]*Ua,n=e[1]*Ua,a=Math.cos(n),i=Math.sin(n),t):e},t.scale=function(e){return arguments.length?(u=+e,t):u},t.translate=function(e){return arguments.length?(s=[+e[0],+e[1]],t):s},t.origin([0,0])},d3.geo.albers=function(){function t(t){var e=n*(Ua*t[0]-r),o=Math.sqrt(a-2*n*Math.sin(Ua*t[1]))/n;return[s*o*Math.sin(e)+c[0],s*(o*Math.cos(e)-i)+c[1]]}function e(){var e=Ua*u[0],s=Ua*u[1],c=Ua*o[1],l=Math.sin(e),h=Math.cos(e);return r=Ua*o[0],n=.5*(l+Math.sin(s)),a=h*h+2*n*l,i=Math.sqrt(a-2*n*Math.sin(c))/n,t}var r,n,a,i,o=[-98,38],u=[29.5,45.5],s=1e3,c=[480,250];return t.invert=function(t){var e=(t[0]-c[0])/s,o=(t[1]-c[1])/s,u=i+o,l=Math.atan2(e,u),h=Math.sqrt(e*e+u*u);return[(r+l/n)/Ua,Math.asin((a-h*h*n*n)/(2*n))/Ua]},t.origin=function(t){return arguments.length?(o=[+t[0],+t[1]],e()):o},t.parallels=function(t){return arguments.length?(u=[+t[0],+t[1]],e()):u},t.scale=function(e){return arguments.length?(s=+e,t):s},t.translate=function(e){return arguments.length?(c=[+e[0],+e[1]],t):c},e()},d3.geo.albersUsa=function(){function t(t){var i=t[0],o=t[1];return(o>50?r:i<-140?n:o<21?a:e)(t)}var e=d3.geo.albers(),r=d3.geo.albers().origin([-160,60]).parallels([55,65]),n=d3.geo.albers().origin([-160,20]).parallels([8,18]),a=d3.geo.albers().origin([-60,10]).parallels([8,18]);return t.scale=function(i){return arguments.length?(e.scale(i),r.scale(.6*i),n.scale(i),a.scale(1.5*i),t.translate(e.translate())):e.scale()},t.translate=function(i){if(!arguments.length)return e.translate();var o=e.scale()/1e3,u=i[0],s=i[1];return e.translate(i),r.translate([u-400*o,s+170*o]),n.translate([u-190*o,s+200*o]),a.translate([u+580*o,s+430*o]),t},t.scale(e.scale())},d3.geo.bonne=function(){function t(t){var u=t[0]*Ua-e,s=t[1]*Ua-r;if(n){var c=a+n-s,l=u*Math.cos(s)/c;u=c*Math.sin(l),s=c*Math.cos(l)-a}else u*=Math.cos(s),s*=-1;return[i*u+o[0],i*s+o[1]]}var e,r,n,a,i=200,o=[480,250];return t.invert=function(t){var r=(t[0]-o[0])/i,u=(t[1]-o[1])/i;if(n){var s=a+u,c=Math.sqrt(r*r+s*s);u=a+n-c,r=e+c*Math.atan2(r,s)/Math.cos(u)}else u*=-1,r/=Math.cos(u);return[r/Ua,u/Ua]},t.parallel=function(e){return arguments.length?(a=1/Math.tan(n=e*Ua),t):n/Ua},t.origin=function(n){return arguments.length?(e=n[0]*Ua,r=n[1]*Ua,t):[e/Ua,r/Ua]},t.scale=function(e){return arguments.length?(i=+e,t):i},t.translate=function(e){return arguments.length?(o=[+e[0],+e[1]],t):o},t.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function t(t){var n=t[0]/360,a=-t[1]/360;return[e*n+r[0],e*a+r[1]]}var e=500,r=[480,250];return t.invert=function(t){return[(t[0]-r[0])/e*360,(t[1]-r[1])/e*-360]},t.scale=function(r){return arguments.length?(e=+r,t):e},t.translate=function(e){return arguments.length?(r=[+e[0],+e[1]],t):r},t},d3.geo.mercator=function(){function t(t){var n=t[0]/360,a=-Math.log(Math.tan(Math.PI/4+t[1]*Ua/2))/Ua/360;return[e*n+r[0],e*Math.max(-.5,Math.min(.5,a))+r[1]]}var e=500,r=[480,250];return t.invert=function(t){var n=(t[0]-r[0])/e,a=(t[1]-r[1])/e;return[360*n,2*Math.atan(Math.exp(-360*a*Ua))/Ua-90]},t.scale=function(r){return arguments.length?(e=+r,t):e},t.translate=function(e){return arguments.length?(r=[+e[0],+e[1]],t):r},t},d3.geo.path=function(){function t(t,e){return"function"==typeof i&&(o=br(i.apply(this,arguments))),s(t)||null}function e(t){return u(t).join(",")}function r(t){for(var e=a(t[0]),r=0,n=t.length;++r<n;)e-=a(t[r]);return e}function n(t){for(var e=d3.geom.polygon(t[0].map(u)),r=e.area(),n=e.centroid(r<0?(r*=-1,1):-1),a=n[0],i=n[1],o=r,s=0,c=t.length;++s<c;)e=d3.geom.polygon(t[s].map(u)),r=e.area(),n=e.centroid(r<0?(r*=-1,1):-1),a-=n[0],i-=n[1],o-=r;return[a,i,6*o]}function a(t){return Math.abs(d3.geom.polygon(t.map(u)).area())}var i=4.5,o=br(i),u=d3.geo.albersUsa(),s=yr({FeatureCollection:function(t){for(var e=[],r=t.features,n=-1,a=r.length;++n<a;)e.push(s(r[n].geometry));return e.join("")},Feature:function(t){return s(t.geometry)},Point:function(t){return"M"+e(t.coordinates)+o},MultiPoint:function(t){for(var r=[],n=t.coordinates,a=-1,i=n.length;++a<i;)r.push("M",e(n[a]),o);return r.join("")},LineString:function(t){for(var r=["M"],n=t.coordinates,a=-1,i=n.length;++a<i;)r.push(e(n[a]),"L");return r.pop(),r.join("")},MultiLineString:function(t){for(var r,n,a,i=[],o=t.coordinates,u=-1,s=o.length;++u<s;){for(r=o[u],n=-1,a=r.length,i.push("M");++n<a;)i.push(e(r[n]),"L");i.pop()}return i.join("")},Polygon:function(t){for(var r,n,a,i=[],o=t.coordinates,u=-1,s=o.length;++u<s;)if(r=o[u],n=-1,(a=r.length-1)>0){for(i.push("M");++n<a;)i.push(e(r[n]),"L");i[i.length-1]="Z"}return i.join("")},MultiPolygon:function(t){for(var r,n,a,i,o,u,s=[],c=t.coordinates,l=-1,h=c.length;++l<h;)for(r=c[l],n=-1,a=r.length;++n<a;)if(i=r[n],o=-1,(u=i.length-1)>0){for(s.push("M");++o<u;)s.push(e(i[o]),"L");s[s.length-1]="Z"}return s.join("")},GeometryCollection:function(t){for(var e=[],r=t.geometries,n=-1,a=r.length;++n<a;)e.push(s(r[n]));return e.join("")}}),c=t.area=yr({FeatureCollection:function(t){for(var e=0,r=t.features,n=-1,a=r.length;++n<a;)e+=c(r[n]);return e},Feature:function(t){return c(t.geometry)},Polygon:function(t){return r(t.coordinates)},MultiPolygon:function(t){for(var e=0,n=t.coordinates,a=-1,i=n.length;++a<i;)e+=r(n[a]);return e},GeometryCollection:function(t){for(var e=0,r=t.geometries,n=-1,a=r.length;++n<a;)e+=c(r[n]);return e}},0),l=t.centroid=yr({Feature:function(t){return l(t.geometry)},Polygon:function(t){var e=n(t.coordinates);return[e[0]/e[2],e[1]/e[2]]},MultiPolygon:function(t){for(var e,r=t.coordinates,a=0,i=0,o=0,u=-1,s=r.length;++u<s;)e=n(r[u]),a+=e[0],i+=e[1],o+=e[2];return[a/o,i/o]}});return t.projection=function(e){return u=e,t},t.pointRadius=function(e){return"function"==typeof e?i=e:(i=+e,o=br(i)),t},t},d3.geo.bounds=function(t){var e=1/0,r=1/0,n=-1/0,a=-1/0;return wr(t,function(t,i){t<e&&(e=t),t>n&&(n=t),i<r&&(r=i),i>a&&(a=i)}),[[e,r],[n,a]]};var Ca={Feature:xr,FeatureCollection:_r,GeometryCollection:Mr,LineString:Rr,MultiLineString:jr,MultiPoint:Rr,MultiPolygon:Ir,Point:Er,Polygon:Nr};d3.geo.circle=function(){function t(){}function e(t){return s.distance(t)<u}function r(t){for(var e,r,n,i,o,c=-1,l=t.length,h=[];++c<l;)o=s.distance(n=t[c]),o<u?(r&&h.push(Ur(r,n)((i-u)/(i-o))),h.push(n),e=r=null):(r=n,!e&&h.length&&(h.push(Ur(h[h.length-1],r)((u-i)/(o-i))),e=r)),i=o;return r&&h.length&&(o=s.distance(n=h[0]),h.push(Ur(r,n)((i-u)/(i-o)))),a(h)}function a(t){for(var e,r,n,a=0,i=t.length,o=i?[t[0]]:t,u=s.source();++a<i;)for(n=s.source(t[a-1])(t[a]).coordinates,e=0,r=n.length;++e<r;)o.push(n[e]);return s.source(u),o}var i=[0,0],o=89.99,u=o*Ua,s=d3.geo.greatArc().target(n);t.clip=function(t){return s.source("function"==typeof i?i.apply(this,arguments):i),c(t)};var c=yr({FeatureCollection:function(t){var e=t.features.map(c).filter(n);return e&&(t=Object.create(t),t.features=e,t)},Feature:function(t){var e=c(t.geometry);return e&&(t=Object.create(t),t.geometry=e,t)},Point:function(t){return e(t.coordinates)&&t},MultiPoint:function(t){var r=t.coordinates.filter(e);return r.length&&{type:t.type,coordinates:r}},LineString:function(t){var e=r(t.coordinates);return e.length&&(t=Object.create(t),t.coordinates=e,t)},MultiLineString:function(t){var e=t.coordinates.map(r).filter(function(t){return t.length});return e.length&&(t=Object.create(t),t.coordinates=e,t)},Polygon:function(t){var e=t.coordinates.map(r);return e[0].length&&(t=Object.create(t),t.coordinates=e,t)},MultiPolygon:function(t){var e=t.coordinates.map(function(t){return t.map(r)}).filter(function(t){return t[0].length});return e.length&&(t=Object.create(t),t.coordinates=e,t)},GeometryCollection:function(t){var e=t.geometries.map(c).filter(n);return e.length&&(t=Object.create(t),t.geometries=e,t)}});return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(e){return arguments.length?(u=(o=+e)*Ua,t):o},t.precision=function(e){return arguments.length?(s.precision(e),t):s.precision()},t},d3.geo.greatArc=function(){function t(){for(var t="function"==typeof e?e.apply(this,arguments):e,a="function"==typeof r?r.apply(this,arguments):r,i=Ur(t,a),o=n/i.d,u=0,s=[t];(u+=o)<1;)s.push(i(u));return s.push(a),{type:"LineString",coordinates:s}}var e=Fr,r=Ar,n=6*Ua;return t.distance=function(){return Ur("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r).d},t.source=function(r){return arguments.length?(e=r,t):e},t.target=function(e){return arguments.length?(r=e,t):r},t.precision=function(e){return arguments.length?(n=e*Ua,t):n/Ua},t},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(t,e){var r=e||Cr(t),n=[],a=r[0],i=r[1],o=0,u=0,s=NaN,c=NaN,l=0;do{l=0,t(a-1,i-1)&&(l+=1),t(a,i-1)&&(l+=2),t(a-1,i)&&(l+=4),t(a,i)&&(l+=8),6===l?(o=-1===c?-1:1,u=0):9===l?(o=0,u=1===s?-1:1):(o=Ta[l],u=Sa[l]),o!=s&&u!=c&&(n.push([a,i]),s=o,c=u),a+=o,i+=u}while(r[0]!=a||r[1]!=i);return n};var Ta=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],Sa=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(t){if(t.length<3)return[];var e,r,n,a,i,o,u,s,c,l,h=t.length,f=h-1,p=[],d=[],g=0;for(e=1;e<h;++e)t[e][1]<t[g][1]?g=e:t[e][1]==t[g][1]&&(g=t[e][0]<t[g][0]?e:g);for(e=0;e<h;++e)e!==g&&(a=t[e][1]-t[g][1],n=t[e][0]-t[g][0],p.push({angle:Math.atan2(a,n),index:e}));for(p.sort(function(t,e){return t.angle-e.angle}),c=p[0].angle,s=p[0].index,u=0,e=1;e<f;++e)r=p[e].index,c==p[e].angle?(n=t[s][0]-t[g][0],a=t[s][1]-t[g][1],i=t[r][0]-t[g][0],o=t[r][1]-t[g][1],n*n+a*a>=i*i+o*o?p[e].index=-1:(p[u].index=-1,c=p[e].angle,u=e,s=r)):(c=p[e].angle,u=e,s=r);for(d.push(g),e=0,r=0;e<2;++r)-1!==p[r].index&&(d.push(p[r].index),e++);for(l=d.length;r<f;++r)if(-1!==p[r].index){for(;!Tr(d[l-2],d[l-1],p[r].index,t);)--l;d[l++]=p[r].index}var m=[];for(e=0;e<l;++e)m.push(t[d[e]]);return m},d3.geom.polygon=function(t){return t.area=function(){for(var e=0,r=t.length,n=t[r-1][0]*t[0][1],a=t[r-1][1]*t[0][0];++e<r;)n+=t[e-1][0]*t[e][1],a+=t[e-1][1]*t[e][0];return.5*(a-n)},t.centroid=function(e){var r,n,a=-1,i=t.length,o=0,u=0,s=t[i-1];for(arguments.length||(e=-1/(6*t.area()));++a<i;)r=s,s=t[a],n=r[0]*s[1]-s[0]*r[1],o+=(r[0]+s[0])*n,u+=(r[1]+s[1])*n;return[o*e,u*e]},t.clip=function(e){for(var r,n,a,i,o,u,s=-1,c=t.length,l=t[c-1];++s<c;){for(r=e.slice(),e.length=0,i=t[s],o=r[(a=r.length)-1],n=-1;++n<a;)u=r[n],Sr(u,l,i)?(Sr(o,l,i)||e.push(kr(o,u,l,i)),e.push(u)):Sr(o,l,i)&&e.push(kr(o,u,l,i)),o=u;l=i}return e},t},d3.geom.voronoi=function(t){var e=t.map(function(){return[]});return Lr(t,function(t){var r,n,a,i,o,u;1===t.a&&t.b>=0?(r=t.ep.r,n=t.ep.l):(r=t.ep.l,n=t.ep.r),1===t.a?(o=r?r.y:-1e6,a=t.c-t.b*o,u=n?n.y:1e6,i=t.c-t.b*u):(a=r?r.x:-1e6,o=t.c-t.a*a,i=n?n.x:1e6,u=t.c-t.a*i);var s=[a,o],c=[i,u];e[t.region.l.index].push(s,c),e[t.region.r.index].push(s,c)}),e.map(function(e,r){var n=t[r][0],a=t[r][1];return e.forEach(function(t){t.angle=Math.atan2(t[0]-n,t[1]-a)}),e.sort(function(t,e){return t.angle-e.angle}).filter(function(t,r){return!r||t.angle-e[r-1].angle>1e-10})})};var ka={l:"r",r:"l"};d3.geom.delaunay=function(t){var e=t.map(function(){return[]}),r=[];return Lr(t,function(r){e[r.region.l.index].push(t[r.region.r.index])}),e.forEach(function(e,n){var a=t[n],i=a[0],o=a[1];e.forEach(function(t){t.angle=Math.atan2(t[0]-i,t[1]-o)}),e.sort(function(t,e){return t.angle-e.angle});for(var u=0,s=e.length-1;u<s;u++)r.push([a,e[u],e[u+1]])}),r},d3.geom.quadtree=function(t,e,r,n,a){function i(t,e,r,n,a,i){if(!isNaN(e.x)&&!isNaN(e.y))if(t.leaf){var u=t.point;u?Math.abs(u.x-e.x)+Math.abs(u.y-e.y)<.01?o(t,e,r,n,a,i):(t.point=null,o(t,u,r,n,a,i),o(t,e,r,n,a,i)):t.point=e}else o(t,e,r,n,a,i)}function o(t,e,r,n,a,o){var u=.5*(r+a),s=.5*(n+o),c=e.x>=u,l=e.y>=s,h=(l<<1)+c;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=Pr()),c?r=u:a=u,l?n=s:o=s,i(t,e,r,n,a,o)}var u,s=-1,c=t.length;if(c&&isNaN(t[0].x)&&(t=t.map(Or)),arguments.length<5)if(3===arguments.length)a=n=r,r=e;else{for(e=r=1/0,n=a=-1/0;++s<c;)u=t[s],u.x<e&&(e=u.x),u.y<r&&(r=u.y),u.x>n&&(n=u.x),u.y>a&&(a=u.y);var l=n-e,h=a-r;l>h?a=r+l:n=e+h}var f=Pr();return f.add=function(t){i(f,t,e,r,n,a)},f.visit=function(t){Dr(t,f,e,r,n,a)},t.forEach(f.add),f},d3.time={};var La=Date;zr.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Pa.setUTCDate.apply(this._,arguments)},setDay:function(){Pa.setUTCDay.apply(this._,arguments)},setFullYear:function(){Pa.setUTCFullYear.apply(this._,arguments)},setHours:function(){Pa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Pa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){
Pa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Pa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Pa.setUTCSeconds.apply(this._,arguments)},setTime:function(){Pa.setTime.apply(this._,arguments)}};var Pa=Date.prototype;d3.time.format=function(t){function e(e){for(var n,a,i=[],o=-1,u=0;++o<r;)37==t.charCodeAt(o)&&(i.push(t.substring(u,o),(a=qa[n=t.charAt(++o)])?a(e):n),u=o+1);return i.push(t.substring(u,o)),i.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0};if(Hr(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var n=new La;return n.setFullYear(r.y,r.m,r.d),n.setHours(r.H,r.M,r.S,r.L),n},e.toString=function(){return t},e};var Da=d3.format("02d"),Oa=d3.format("03d"),za=d3.format("04d"),Ha=d3.format("2d"),qa={a:function(t){return Za[t.getDay()].substring(0,3)},A:function(t){return Za[t.getDay()]},b:function(t){return Qa[t.getMonth()].substring(0,3)},B:function(t){return Qa[t.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(t){return Da(t.getDate())},e:function(t){return Ha(t.getDate())},H:function(t){return Da(t.getHours())},I:function(t){return Da(t.getHours()%12||12)},j:function(t){return Oa(1+d3.time.dayOfYear(t))},L:function(t){return Oa(t.getMilliseconds())},m:function(t){return Da(t.getMonth()+1)},M:function(t){return Da(t.getMinutes())},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t){return Da(t.getSeconds())},U:function(t){return Da(d3.time.sundayOfYear(t))},w:function(t){return t.getDay()},W:function(t){return Da(d3.time.mondayOfYear(t))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(t){return Da(t.getFullYear()%100)},Y:function(t){return za(t.getFullYear()%1e4)},Z:on,"%":function(t){return"%"}},Xa={a:qr,A:Xr,b:Br,B:Yr,c:Zr,d:Kr,e:Kr,H:tn,I:tn,L:nn,m:Jr,M:en,p:an,S:rn,x:Vr,X:Gr,y:Qr,Y:$r},Ba=/^(?:sun|mon|tue|wed|thu|fri|sat)/i,Ya=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,Za=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Va=d3.map({jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}),Ga=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/gi,$a=d3.map({january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11}),Qa=["January","February","March","April","May","June","July","August","September","October","November","December"],Wa=/\s*\d+/,Ja=d3.map({am:0,pm:1});d3.time.format.utc=function(t){function e(t){try{La=zr;var e=new La;return e._=t,r(e)}finally{La=Date}}var r=d3.time.format(t);return e.parse=function(t){try{La=zr;var e=r.parse(t);return e&&e._}finally{La=Date}},e.toString=r.toString,e};var Ka=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?un:Ka,un.parse=function(t){return new Date(t)},un.toString=Ka.toString,d3.time.second=sn(function(t){return new La(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=sn(function(t){return new La(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=sn(function(t){var e=t.getTimezoneOffset()/60;return new La(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=sn(function(t){return new La(t.getFullYear(),t.getMonth(),t.getDate())},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(t){var e=d3.time.year(t);return Math.floor((t-e)/864e5-(t.getTimezoneOffset()-e.getTimezoneOffset())/1440)},Za.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var r=d3.time[t]=sn(function(t){return(t=d3.time.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var r=d3.time.year(t).getDay();return Math.floor((d3.time.dayOfYear(t)+(r+e)%7)/7)-(r!==e)});d3.time[t+"s"]=r.range,d3.time[t+"s"].utc=r.utc.range,d3.time[t+"OfYear"]=function(t){var r=d3.time.year(t).getDay();return Math.floor((d3.time.dayOfYear(t)+(r+e)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=sn(function(t){return new La(t.getFullYear(),t.getMonth(),1)},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=sn(function(t){return new La(t.getFullYear(),0,1)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var ti=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ei=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ri=[[d3.time.format("%Y"),function(t){return!0}],[d3.time.format("%B"),function(t){return t.getMonth()}],[d3.time.format("%b %d"),function(t){return 1!=t.getDate()}],[d3.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[d3.time.format("%I %p"),function(t){return t.getHours()}],[d3.time.format("%I:%M"),function(t){return t.getMinutes()}],[d3.time.format(":%S"),function(t){return t.getSeconds()}],[d3.time.format(".%L"),function(t){return t.getMilliseconds()}]],ni=d3.scale.linear(),ai=pn(ri);ei.year=function(t,e){return ni.domain(t.map(gn)).ticks(e).map(dn)},d3.time.scale=function(){return ln(d3.scale.linear(),ei,ai)};var ii=ei.map(function(t){return[t[0].utc,t[1]]}),oi=[[d3.time.format.utc("%Y"),function(t){return!0}],[d3.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[d3.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[d3.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(t){return t.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(t){return t.getUTCMilliseconds()}]],ui=pn(oi);ii.year=function(t,e){return ni.domain(t.map(vn)).ticks(e).map(mn)},d3.time.scale.utc=function(){return ln(d3.scale.linear(),ii,ui)}}();